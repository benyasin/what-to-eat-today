{"version":3,"sources":["webpack:///dist/static/js/app.47e197b8dfa393eb328f.js","webpack:///./client/main.js","webpack:///./client/core/constants.js","webpack:///./client/core/brain.js","webpack:///./client/core/request.js","webpack:///./client/core/service.js","webpack:///app.vue","webpack:///star-rating.vue","webpack:///star.vue","webpack:///./client/app.vue","webpack:///./~/vue-star-rating/src/star-rating.vue","webpack:///./~/vue-star-rating/src/star.vue","webpack:///./~/vue-star-rating/src/star.vue?0f62","webpack:///./client/app.vue?3c20","webpack:///./~/vue-star-rating/src/star-rating.vue?06f4"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_framework","_framework7Vue","_framework7Vue2","_framework7IosMin","_framework7IosColorsMin","_app","_routes","_routes2","_app3","_app4","use","el","template","framework7","root","routes","components","app","29","Object","defineProperty","value","materials","id","name","taste","60","learn","mind","trainingData","predict","recipe","input","catsArray","length","_getTargetCollection","categories","forEach","cat","target","index","_lodash2","findIndex","family","parent","_constants2","prediction","Math","round","rate","rating","data","output","push","window","localStorage","getItem","JSON","parse","_nodeMind","_nodeMind2","_constants","_lodash","learningRate","activator","brain","61","_promise","_promise2","_axios","_axios2","client","create","baseURL","request","options","onSuccess","response","onError","error","console","config","status","headers","message","reject","then","catch","62","getAllCategories","promises","_loop","i","promise","resolve","_request2","url","method","res","err","all","values","ids","map","v","concat","setItem","_stringify2","reason","log","generateARecipe","targetId","random","rindex1","rindex2","timeout","floor","_stringify","_request","Service","63","64","_defineProperty2","_defineProperty3","_vueStarRating","_vueStarRating2","_service","_service2","_brain","_brain2","description","numRated","resetableRating","predictRating","mounted","this","fetchRandomRecipe","methods","self","resetRating","skip","setRating","setTimeout","StarRating","65","_star","_star2","star","props","increment","type","Number","activeColor","String","inactiveColor","maxRating","starSize","showRating","Boolean","readOnly","textClass","inline","borderColor","borderWidth","padding","created","step","currentRating","selectedRating","createStars","$event","persist","position","toFixed","$emit","level","$set","fillLevel","inv","ceil","watch","val","66","fill","size","starId","required","calculatePoints","grad","toString","substring","computed","_this","starPoints","point","starPointsToString","join","getGradId","getSize","parseInt","getFill","mouseMoving","event","getPosition","starWidth","offsetX","selected","107","108","109","110","111","123","Component","124","125","126","render","_vm","_h","$createElement","_c","_self","attrs","height","width","on","mousemove","click","x1","x2","y1","y2","offset","stop-color","_v","points","stroke","stroke-width","staticRenderFns","127","main","title","content","staticClass","src","lImage","href","inactive-color","active-color","star-size","show-rating","rating-selected","read-only","_e","128","class","mouseleave","_l","n","pointer","star-id","border-color","border-width","star-selected","star-mouse-move","_s"],"mappings":"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,SACJmB,YOreLmI,KAAAD,EAAArJ,SPweKuJ,OACIC,WACIC,KOvebC,OPwea1J,QOteb,GPweSqD,QACIoG,KOvebC,OPwea1J,QOteb,GPweS2J,aACIF,KOvebG,OPwea5J,QOteb,WPweS6J,eACIJ,KOvebG,OPwea5J,QOteb,WPweS8J,WACIL,KOvebC,OPwea1J,QOteb,GPweS+J,UACIN,KOvebC,OPwea1J,QOteb,IPweSgK,YACIP,KOvebQ,QPweajK,SOteb,GPweSkK,UACIT,KOvebQ,QPweajK,SOteb,GPweSmK,WACIV,KOvebG,OPwea5J,QOteb,IPweSoK,QACIX,KOvebQ,QPweajK,SOteb,GPweSqK,aACIZ,KOvebG,OPwea5J,QOteb,QPweSsK,aACIb,KOvebC,OPwea1J,QOteb,GPweSuK,SACId,KOvebC,OPwea1J,QOreb,IPweKwK,QAAS,WACL9B,KAAK+B,KOved,IPueqB/B,KAAKc,UACjBd,KAAKgC,cAAgBhC,KOve9BrF,OPweSqF,KAAKiC,eAAiBjC,KOve/BrF,OPweSqF,KOveTkC,eP0eKhC,SACII,UAAW,SAAmB6B,EAAQC,GAClC,IAAKpC,KAAKwB,SOxevB,CPyeiB,GAAIa,GAAWF,EAAOE,SOxevC,GPyeiBrC,MAAKgC,eAAiBG,EAAOnJ,GAAKqJ,EAAW,GAAGC,QOxejE,GPyeiBtC,KAAKgC,cAAgBhC,KAAKgC,cAAgBhC,KAAKoB,UAAYpB,KAAKoB,UAAYpB,KOxe7FgC,cPyeiBhC,KOxejBkC,cPyeqBE,GACApC,KAAKiC,eAAiBjC,KOxe3CgC,cPyeqBhC,KAAKuC,MAAM,kBAAmBvC,KOxenDiC,iBP0eqBjC,KAAKuC,MAAM,iBAAkBvC,KOxelDgC,iBP4eS5B,YAAa,WACJJ,KAAKwB,WACNxB,KAAKgC,cAAgBhC,KOxetCiC,ePyeiBjC,KOxejBkC,gBP2eSA,YAAa,WACTlC,KOxebvF,OPyea,KAAK,GAAI4C,GAAI,EAAGA,EAAI2C,KAAKoB,UAAW/D,IOxejD,CPyeiB,GAAImF,GOxerB,CPyeqBnF,GAAI2C,KAAKgC,gBACTQ,EAAQxC,KAAK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","file":"dist/static/js/app.47e197b8dfa393eb328f.js","sourcesContent":["webpackJsonp([2,0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(129);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _framework = __webpack_require__(113);\n\t\n\tvar _framework2 = _interopRequireDefault(_framework);\n\t\n\tvar _framework7Vue = __webpack_require__(112);\n\t\n\tvar _framework7Vue2 = _interopRequireDefault(_framework7Vue);\n\t\n\tvar _framework7IosMin = __webpack_require__(109);\n\t\n\tvar _framework7IosMin2 = _interopRequireDefault(_framework7IosMin);\n\t\n\tvar _framework7IosColorsMin = __webpack_require__(108);\n\t\n\tvar _framework7IosColorsMin2 = _interopRequireDefault(_framework7IosColorsMin);\n\t\n\tvar _app = __webpack_require__(107);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\tvar _routes = __webpack_require__(63);\n\t\n\tvar _routes2 = _interopRequireDefault(_routes);\n\t\n\tvar _app3 = __webpack_require__(123);\n\t\n\tvar _app4 = _interopRequireDefault(_app3);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_framework7Vue2.default);\n\t\n\tnew _vue2.default({\n\t  el: '#app',\n\t  template: '<app/>',\n\t\n\t  framework7: {\n\t    root: '#app',\n\t\n\t    routes: _routes2.default\n\t  },\n\t\n\t  components: {\n\t    app: _app4.default\n\t  }\n\t});\n\n/***/ },\n\n/***/ 29:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = {\n\t    materials: [{\n\t        id: 5399,\n\t        name: '猪'\n\t    }, {\n\t        id: 104,\n\t        name: '鸡'\n\t    }, {\n\t        id: 5443,\n\t        name: '牛'\n\t    }, {\n\t        id: 5418,\n\t        name: '羊'\n\t    }, {\n\t        id: 275,\n\t        name: '鸭'\n\t    }, {\n\t        id: 605,\n\t        name: '牛蛙'\n\t    }, {\n\t        id: 719,\n\t        name: '兔肉'\n\t    }, {\n\t        id: 20132,\n\t        name: '饭'\n\t    }, {\n\t        id: 20133,\n\t        name: '面'\n\t    }, {\n\t        id: 20148,\n\t        name: '饺子'\n\t    }, {\n\t        id: 20150,\n\t        name: '混沌'\n\t    }, {\n\t        id: 957,\n\t        name: '鱼'\n\t    }, {\n\t        id: 4553,\n\t        name: '贝'\n\t    }, {\n\t        id: 469,\n\t        name: '虾'\n\t    }, {\n\t        id: 1183,\n\t        name: '螃蟹'\n\t    }],\n\t\n\t    taste: [{\n\t        id: 51359,\n\t        name: '辣'\n\t    }, {\n\t        id: 51922,\n\t        name: '咖喱'\n\t    }, {\n\t        id: 40066,\n\t        name: '糖醋'\n\t    }, {\n\t        id: 52413,\n\t        name: '蒜香'\n\t    }, {\n\t        id: 51449,\n\t        name: '酸甜'\n\t    }, {\n\t        id: 52407,\n\t        name: '奶香'\n\t    }, {\n\t        id: 52401,\n\t        name: '孜然'\n\t    }, {\n\t        id: 51875,\n\t        name: '鱼香'\n\t    }, {\n\t        id: 52399,\n\t        name: '五香'\n\t    }, {\n\t        id: 51460,\n\t        name: '清淡'\n\t    }]\n\t};\n\n/***/ },\n\n/***/ 60:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _nodeMind = __webpack_require__(118);\n\t\n\tvar _nodeMind2 = _interopRequireDefault(_nodeMind);\n\t\n\tvar _constants = __webpack_require__(29);\n\t\n\tvar _constants2 = _interopRequireDefault(_constants);\n\t\n\tvar _lodash = __webpack_require__(116);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar mind = (0, _nodeMind2.default)({ learningRate: 0.3, activator: 'sigmoid' });\n\t\n\tvar trainingData = [];\n\tvar catsArray = _getTargetCollection();\n\t\n\tfunction learn() {\n\t    mind.learn(trainingData);\n\t}\n\t\n\tfunction predict(recipe) {\n\t\n\t    var input = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\t    if (catsArray.length === 0) catsArray = _getTargetCollection();\n\t\n\t    recipe.categories.forEach(function (cat) {\n\t        var target = {};\n\t        catsArray.forEach(function (obj) {\n\t            var index = _lodash2.default.findIndex(obj.family, cat);\n\t            if (index > -1) {\n\t                target = obj.parent;\n\t            }\n\t        });\n\t        var index = _lodash2.default.findIndex(_constants2.default.materials, target);\n\t        if (index > -1) input[index] = 1;\n\t    });\n\t\n\t    var prediction = mind.predict(input) * 5;\n\t    prediction = Math.round(prediction);\n\t    return prediction;\n\t}\n\t\n\tfunction rate(recipe, rating) {\n\t\n\t    var input = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\t    if (catsArray.length === 0) catsArray = _getTargetCollection();\n\t\n\t    recipe.categories.forEach(function (cat) {\n\t        var target = {};\n\t        catsArray.forEach(function (obj) {\n\t            var index = _lodash2.default.findIndex(obj.family, cat);\n\t            if (index > -1) {\n\t                target = obj.parent;\n\t            }\n\t        });\n\t        var index = _lodash2.default.findIndex(_constants2.default.materials, target);\n\t        if (index > -1) input[index] = 1;\n\t    });\n\t    var data = { input: input, output: [rating / 5] };\n\t    trainingData.push(data);\n\t}\n\t\n\tfunction _getTargetCollection() {\n\t    catsArray = window.localStorage.getItem('wtet_categories');\n\t    return catsArray !== null ? JSON.parse(catsArray) : [];\n\t}\n\t\n\tvar brain = {\n\t    learn: learn, predict: predict, rate: rate\n\t};\n\t\n\texports.default = brain;\n\n/***/ },\n\n/***/ 61:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _promise = __webpack_require__(30);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _axios = __webpack_require__(42);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar client = _axios2.default.create({\n\t    baseURL: ''\n\t});\n\t\n\tvar request = function request(options) {\n\t    var onSuccess = function onSuccess(response) {\n\t        return response.data;\n\t    };\n\t\n\t    var onError = function onError(error) {\n\t        console.error('Request Failed:', error.config);\n\t\n\t        if (error.response) {\n\t            console.error('Status:', error.response.status);\n\t            console.error('Data:', error.response.data);\n\t            console.error('Headers:', error.response.headers);\n\t        } else {\n\t            console.error('Error Message:', error.message);\n\t        }\n\t\n\t        return _promise2.default.reject(error.response || error.message);\n\t    };\n\t\n\t    return client(options).then(onSuccess).catch(onError);\n\t};\n\t\n\texports.default = request;\n\n/***/ },\n\n/***/ 62:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(67);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _promise = __webpack_require__(30);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _constants = __webpack_require__(29);\n\t\n\tvar _constants2 = _interopRequireDefault(_constants);\n\t\n\tvar _request = __webpack_require__(61);\n\t\n\tvar _request2 = _interopRequireDefault(_request);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction getAllCategories() {\n\t\n\t    var catsArray = window.localStorage.getItem('wtet_categories');\n\t    if (catsArray === null) {\n\t        (function () {\n\t            catsArray = [];\n\t            var materials = _constants2.default.materials;\n\t            var promises = [];\n\t\n\t            var _loop = function _loop(i) {\n\t                var promise = new _promise2.default(function (resolve, reject) {\n\t                    (0, _request2.default)({\n\t                        url: '/api/fetchAllByPid/' + materials[i].id,\n\t                        method: 'GET'\n\t                    }).then(function (res) {\n\t                        resolve(res);\n\t                    }).catch(function (err) {\n\t                        reject(err);\n\t                    });\n\t                });\n\t                promises.push(promise);\n\t            };\n\t\n\t            for (var i = 0; i < materials.length; i++) {\n\t                _loop(i);\n\t            }\n\t\n\t            _promise2.default.all(promises).then(function (values) {\n\t                values.forEach(function (value, i) {\n\t                    var ids = value.map(function (v) {\n\t                        return v.id;\n\t                    });\n\t                    catsArray.push(value.length ? [materials[i].id].concat(ids) : [materials[i].id]);\n\t                });\n\t                window.localStorage.setItem('wtet_categories', (0, _stringify2.default)(catsArray));\n\t            }).catch(function (reason) {\n\t                console.log(reason);\n\t            });\n\t        })();\n\t    }\n\t}\n\t\n\tfunction generateARecipe() {\n\t    var catsArray = window.localStorage.getItem('wtet_categories');\n\t    var targetId = 1;\n\t    if (catsArray == null) {\n\t        targetId = _constants2.default.materials[random(_constants2.default.materials.length)].id;\n\t    } else {\n\t        catsArray = JSON.parse(catsArray);\n\t        var rindex1 = random(catsArray.length);\n\t        var rindex2 = random(catsArray[rindex1].length);\n\t        targetId = catsArray[rindex1][rindex2];\n\t    }\n\t    return (0, _request2.default)({\n\t        url: '/api/fetchRandomRecipe/' + targetId,\n\t        method: 'GET',\n\t        timeout: 1000\n\t    });\n\t}\n\t\n\tfunction random(length) {\n\t    return Math.floor(Math.random() * length);\n\t}\n\t\n\tvar Service = {\n\t    getAllCategories: getAllCategories, generateARecipe: generateARecipe\n\t};\n\t\n\tgetAllCategories();\n\t\n\texports.default = Service;\n\n/***/ },\n\n/***/ 63:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = [];\n\n/***/ },\n\n/***/ 64:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _defineProperty2 = __webpack_require__(69);\n\t\n\tvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\t\n\tvar _vueStarRating = __webpack_require__(124);\n\t\n\tvar _vueStarRating2 = _interopRequireDefault(_vueStarRating);\n\t\n\tvar _service = __webpack_require__(62);\n\t\n\tvar _service2 = _interopRequireDefault(_service);\n\t\n\tvar _brain = __webpack_require__(60);\n\t\n\tvar _brain2 = _interopRequireDefault(_brain);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    data: function data() {\n\t        return (0, _defineProperty3.default)({\n\t            recipe: {},\n\t            description: '',\n\t            numRated: 0,\n\t            resetableRating: 0,\n\t            predictRating: 0\n\t        }, 'description', '');\n\t    },\n\t\n\t    mounted: function mounted() {\n\t        this.description = '别着急，先让我了解你一下（10）';\n\t        this.fetchRandomRecipe();\n\t    },\n\t    methods: {\n\t        fetchRandomRecipe: function fetchRandomRecipe() {\n\t            var self = this;\n\t            _service2.default.generateARecipe().then(function (res) {\n\t                self.recipe = res;\n\t                self.resetRating();\n\t\n\t                if (self.numRated >= 10) {\n\t                    _brain2.default.learn();\n\t                    self.description = '如果我说错了,请告诉我,我会越来越懂你';\n\t                    self.predictRating = _brain2.default.predict(res);\n\t                }\n\t            }).catch(function (err) {\n\t                console.log(err);\n\t                self.fetchRandomRecipe();\n\t            });\n\t        },\n\t        skip: function skip() {\n\t            this.fetchRandomRecipe();\n\t        },\n\t        setRating: function setRating(rating) {\n\t            var self = this;\n\t            self.resetableRating = rating;\n\t            self.numRated++;\n\t            if (self.numRated <= 10) {\n\t                self.description = '别着急，先让我了解你一下（' + (10 - self.numRated) + '）';\n\t            }\n\t            _brain2.default.rate(self.recipe, rating);\n\t\n\t            setTimeout(function () {\n\t                self.fetchRandomRecipe();\n\t            }, 0);\n\t        },\n\t        resetRating: function resetRating() {\n\t            this.resetableRating = 0;\n\t        }\n\t    },\n\t    components: {\n\t        StarRating: _vueStarRating2.default\n\t    }\n\t};\n\n/***/ },\n\n/***/ 65:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _star = __webpack_require__(125);\n\t\n\tvar _star2 = _interopRequireDefault(_star);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    components: {\n\t        star: _star2.default\n\t    },\n\t    props: {\n\t        increment: {\n\t            type: Number,\n\t            default: 1\n\t        },\n\t        rating: {\n\t            type: Number,\n\t            default: 0\n\t        },\n\t        activeColor: {\n\t            type: String,\n\t            default: \"#ffd055\"\n\t        },\n\t        inactiveColor: {\n\t            type: String,\n\t            default: \"#d8d8d8\"\n\t        },\n\t        maxRating: {\n\t            type: Number,\n\t            default: 5\n\t        },\n\t        starSize: {\n\t            type: Number,\n\t            default: 50\n\t        },\n\t        showRating: {\n\t            type: Boolean,\n\t            default: true\n\t        },\n\t        readOnly: {\n\t            type: Boolean,\n\t            default: false\n\t        },\n\t        textClass: {\n\t            type: String,\n\t            default: \"\"\n\t        },\n\t        inline: {\n\t            type: Boolean,\n\t            default: false\n\t        },\n\t        borderColor: {\n\t            type: String,\n\t            default: \"#999\"\n\t        },\n\t        borderWidth: {\n\t            type: Number,\n\t            default: 0\n\t        },\n\t        padding: {\n\t            type: Number,\n\t            default: 0\n\t        }\n\t    },\n\t    created: function created() {\n\t        this.step = this.increment * 100;\n\t        this.currentRating = this.rating;\n\t        this.selectedRating = this.rating;\n\t        this.createStars();\n\t    },\n\t\n\t    methods: {\n\t        setRating: function setRating($event, persist) {\n\t            if (!this.readOnly) {\n\t                var position = $event.position / 100;\n\t                this.currentRating = ($event.id + position - 1).toFixed(2);\n\t                this.currentRating = this.currentRating > this.maxRating ? this.maxRating : this.currentRating;\n\t                this.createStars();\n\t                if (persist) {\n\t                    this.selectedRating = this.currentRating;\n\t                    this.$emit('rating-selected', this.selectedRating);\n\t                } else {\n\t                    this.$emit('current-rating', this.currentRating);\n\t                }\n\t            }\n\t        },\n\t        resetRating: function resetRating() {\n\t            if (!this.readOnly) {\n\t                this.currentRating = this.selectedRating;\n\t                this.createStars();\n\t            }\n\t        },\n\t        createStars: function createStars() {\n\t            this.round();\n\t            for (var i = 0; i < this.maxRating; i++) {\n\t                var level = 0;\n\t                if (i < this.currentRating) {\n\t                    level = this.currentRating - i > 1 ? 100 : (this.currentRating - i) * 100;\n\t                }\n\t                this.$set(this.fillLevel, i, Math.round(level));\n\t            }\n\t        },\n\t        round: function round() {\n\t            var inv = 1.0 / this.increment;\n\t            this.currentRating = Math.ceil(this.currentRating * inv) / inv;\n\t        }\n\t    },\n\t    watch: {\n\t        rating: function rating(val) {\n\t            this.currentRating = val;\n\t            this.selectedRating = val;\n\t            this.createStars();\n\t        }\n\t    },\n\t    data: function data() {\n\t        return {\n\t            step: 0,\n\t            fillLevel: [],\n\t            currentRating: 0,\n\t            selectedRating: 0\n\t        };\n\t    }\n\t};\n\n/***/ },\n\n/***/ 66:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = {\n\t    props: {\n\t        fill: {\n\t            type: Number,\n\t            default: 0\n\t        },\n\t        size: {\n\t            type: Number,\n\t            default: 50\n\t        },\n\t        starId: {\n\t            type: Number,\n\t            required: true\n\t        },\n\t        activeColor: {\n\t            type: String,\n\t            required: true\n\t        },\n\t        inactiveColor: {\n\t            type: String,\n\t            required: true\n\t        },\n\t        borderColor: {\n\t            type: String,\n\t            default: \"#000\"\n\t        },\n\t        borderWidth: {\n\t            type: Number,\n\t            default: 0\n\t        },\n\t        padding: {\n\t            type: Number,\n\t            default: 0\n\t        }\n\t    },\n\t    created: function created() {\n\t        this.calculatePoints;\n\t        this.grad = Math.random().toString(36).substring(7);\n\t    },\n\t\n\t    computed: {\n\t        calculatePoints: function calculatePoints() {\n\t            var _this = this;\n\t\n\t            this.starPoints = this.starPoints.map(function (point) {\n\t                return _this.size / 43 * point + _this.borderWidth * 1.5;\n\t            });\n\t        },\n\t        starPointsToString: function starPointsToString() {\n\t            return this.starPoints.join(',');\n\t        },\n\t        getGradId: function getGradId() {\n\t            return 'url(#' + this.grad + ')';\n\t        },\n\t        getSize: function getSize() {\n\t            return parseInt(this.size) + parseInt(this.borderWidth * 3) + this.padding;\n\t        },\n\t        getFill: function getFill() {\n\t            return this.fill + \"%\";\n\t        }\n\t    },\n\t    methods: {\n\t        mouseMoving: function mouseMoving($event) {\n\t            this.$emit('star-mouse-move', {\n\t                event: $event,\n\t                position: this.getPosition($event),\n\t                id: this.starId\n\t            });\n\t        },\n\t        getPosition: function getPosition($event) {\n\t            var starWidth = 92 / 100 * this.size;\n\t            var position = Math.round(100 / starWidth * $event.offsetX);\n\t            return position > 100 ? 100 : position;\n\t        },\n\t        selected: function selected($event) {\n\t            this.$emit('star-selected', {\n\t                id: this.starId,\n\t                position: this.getPosition($event)\n\t            });\n\t        }\n\t    },\n\t    data: function data() {\n\t        return {\n\t            starPoints: [19.8, 2.2, 6.6, 43.56, 39.6, 17.16, 0, 17.16, 33, 43.56],\n\t            grad: ''\n\t        };\n\t    }\n\t};\n\n/***/ },\n\n/***/ 107:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 108:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 109:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 110:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 111:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 123:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(110)\n\t\n\tvar Component = __webpack_require__(23)(\n\t  /* script */\n\t  __webpack_require__(64),\n\t  /* template */\n\t  __webpack_require__(127),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ },\n\n/***/ 124:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(111)\n\t\n\tvar Component = __webpack_require__(23)(\n\t  /* script */\n\t  __webpack_require__(65),\n\t  /* template */\n\t  __webpack_require__(128),\n\t  /* scopeId */\n\t  \"data-v-5d7117b8\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ },\n\n/***/ 125:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Component = __webpack_require__(23)(\n\t  /* script */\n\t  __webpack_require__(66),\n\t  /* template */\n\t  __webpack_require__(126),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ },\n\n/***/ 126:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('svg', {\n\t    attrs: {\n\t      \"height\": _vm.getSize,\n\t      \"width\": _vm.getSize\n\t    },\n\t    on: {\n\t      \"mousemove\": _vm.mouseMoving,\n\t      \"click\": _vm.selected\n\t    }\n\t  }, [_c('linearGradient', {\n\t    attrs: {\n\t      \"id\": _vm.grad,\n\t      \"x1\": \"0\",\n\t      \"x2\": \"100%\",\n\t      \"y1\": \"0\",\n\t      \"y2\": \"0\"\n\t    }\n\t  }, [_c('stop', {\n\t    attrs: {\n\t      \"offset\": _vm.getFill,\n\t      \"stop-color\": _vm.activeColor\n\t    }\n\t  }), _vm._v(\" \"), _c('stop', {\n\t    attrs: {\n\t      \"offset\": _vm.getFill,\n\t      \"stop-color\": _vm.inactiveColor\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('polygon', {\n\t    attrs: {\n\t      \"points\": _vm.starPointsToString,\n\t      \"fill\": _vm.getGradId,\n\t      \"stroke\": _vm.borderColor,\n\t      \"stroke-width\": _vm.borderWidth\n\t    }\n\t  }), _vm._v(\" \"), _c('polygon', {\n\t    attrs: {\n\t      \"points\": _vm.starPointsToString,\n\t      \"fill\": _vm.getGradId\n\t    }\n\t  })], 1)\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 127:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    attrs: {\n\t      \"id\": \"app\"\n\t    }\n\t  }, [_c('f7-views', [_c('f7-view', {\n\t    attrs: {\n\t      \"id\": \"main-view\",\n\t      \"main\": \"\"\n\t    }\n\t  }, [_c('f7-pages', [_c('f7-page', [_c('f7-card', {\n\t    attrs: {\n\t      \"title\": _vm.recipe.name,\n\t      \"content\": _vm.description\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"recipe-block\"\n\t  }, [_c('img', {\n\t    attrs: {\n\t      \"src\": _vm.recipe.lImage\n\t    }\n\t  })])]), _vm._v(\" \"), _c('f7-block', [_c('f7-grid', [_c('f7-col', {\n\t    attrs: {\n\t      \"width\": \"30\"\n\t    }\n\t  }, [_c('a', {\n\t    staticClass: \"button color-yellow button-fill button-big\",\n\t    attrs: {\n\t      \"href\": \"#\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.skip\n\t    }\n\t  }, [_vm._v(\"跳过\")])]), _vm._v(\" \"), _c('f7-col', {\n\t    attrs: {\n\t      \"width\": \"70\"\n\t    }\n\t  }, [_c('star-rating', {\n\t    attrs: {\n\t      \"inactive-color\": \"#000\",\n\t      \"active-color\": \"#f00\",\n\t      \"star-size\": 40,\n\t      \"show-rating\": false,\n\t      \"rating\": _vm.resetableRating\n\t    },\n\t    on: {\n\t      \"rating-selected\": _vm.setRating\n\t    }\n\t  })], 1)], 1)], 1), _vm._v(\" \"), (_vm.numRated >= 10) ? _c('f7-block', {\n\t    staticClass: \"prediction\"\n\t  }, [_c('f7-grid', [_c('f7-col', {\n\t    staticClass: \"prediction-note\",\n\t    attrs: {\n\t      \"width\": \"30\"\n\t    }\n\t  }, [_vm._v(\"\\n                                猜你多喜欢:\\n\\n\\n\\n                            \")]), _vm._v(\" \"), _c('f7-col', {\n\t    attrs: {\n\t      \"width\": \"70\"\n\t    }\n\t  }, [_c('star-rating', {\n\t    attrs: {\n\t      \"inactive-color\": \"#000\",\n\t      \"active-color\": \"#f00\",\n\t      \"star-size\": 40,\n\t      \"show-rating\": false,\n\t      \"read-only\": true,\n\t      \"rating\": _vm.predictRating\n\t    }\n\t  })], 1)], 1)], 1) : _vm._e()], 1)], 1)], 1)], 1)], 1)\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 128:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    class: ['star-rating', {\n\t      inline: _vm.inline\n\t    }]\n\t  }, [_c('div', {\n\t    staticClass: \"star-rating\",\n\t    on: {\n\t      \"mouseleave\": _vm.resetRating\n\t    }\n\t  }, [_vm._l((_vm.maxRating), function(n) {\n\t    return _c('span', {\n\t      class: [{\n\t        pointer: !_vm.readOnly\n\t      }, 'star']\n\t    }, [_c('star', {\n\t      attrs: {\n\t        \"fill\": _vm.fillLevel[n - 1],\n\t        \"size\": _vm.starSize,\n\t        \"star-id\": n,\n\t        \"step\": _vm.step,\n\t        \"active-color\": _vm.activeColor,\n\t        \"inactive-color\": _vm.inactiveColor,\n\t        \"border-color\": _vm.borderColor,\n\t        \"border-width\": _vm.borderWidth,\n\t        \"padding\": _vm.padding\n\t      },\n\t      on: {\n\t        \"star-selected\": function($event) {\n\t          _vm.setRating($event, true)\n\t        },\n\t        \"star-mouse-move\": _vm.setRating\n\t      }\n\t    })], 1)\n\t  }), _vm._v(\" \"), (_vm.showRating) ? _c('span', {\n\t    class: ['rating-text', _vm.textClass]\n\t  }, [_vm._v(\" \" + _vm._s(_vm.currentRating))]) : _vm._e()], 2)])\n\t},staticRenderFns: []}\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// dist/static/js/app.47e197b8dfa393eb328f.js","// Import Vue\nimport Vue from 'vue'\n\n// Import F7\nimport Framework7 from 'framework7'\n\n// Import F7 Vue Plugin\nimport Framework7Vue from 'framework7-vue'\n\n// Import F7 iOS Theme Styles\nimport Framework7Theme from 'framework7/dist/css/framework7.ios.min.css'\nimport Framework7ThemeColors from 'framework7/dist/css/framework7.ios.colors.min.css'\n\n// Import App Custom Styles\nimport AppStyles from './styles/app.css'\n\n// Import Routes\nimport Routes from './routes.js'\n\n// Import App Component\nimport App from './app'\n\n// Init F7 Vue Plugin\nVue.use(Framework7Vue)\n\n// Init App\nnew Vue({\n  el: '#app',\n  template: '<app/>',\n  // Init Framework7 by passing parameters here\n  framework7: {\n    root: '#app',\n    /* Uncomment to enable Material theme: */\n    // material: true,\n    routes: Routes,\n  },\n  // Register App Component\n  components: {\n    app: App\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/main.js","export default {\n    materials: [{\n        id: 5399,\n        name: '猪'\n    }, {\n        id: 104,\n        name: '鸡'\n    }, {\n        id: 5443,\n        name: '牛'\n    }, {\n        id: 5418,\n        name: '羊'\n    }, {\n        id: 275,\n        name: '鸭'\n    }, {\n        id: 605,\n        name: '牛蛙'\n    }, {\n        id: 719,\n        name: '兔肉'\n    }, {\n        id: 20132,\n        name: '饭'\n    }, {\n        id: 20133,\n        name: '面'\n    }, {\n        id: 20148,\n        name: '饺子'\n    }, {\n        id: 20150,\n        name: '混沌'\n    }, {\n        id: 957,\n        name: '鱼'\n    }, {\n        id: 4553,\n        name: '贝'\n    }, {\n        id: 469,\n        name: '虾'\n    }, {\n        id: 1183,\n        name: '螃蟹'\n    }],\n\n    taste: [{\n        id: 51359,\n        name: '辣'\n    }, {\n        id: 51922,\n        name: '咖喱'\n    }, {\n        id: 40066,\n        name: '糖醋'\n    }, {\n        id: 52413,\n        name: '蒜香'\n    }, {\n        id: 51449,\n        name: '酸甜'\n    }, {\n        id: 52407,\n        name: '奶香'\n    }, {\n        id: 52401,\n        name: '孜然'\n    }, {\n        id: 51875,\n        name: '鱼香'\n    }, {\n        id: 52399,\n        name: '五香'\n    }, {\n        id: 51460,\n        name: '清淡'\n    }]\n}\n\n\n// WEBPACK FOOTER //\n// ./client/core/constants.js","import Mind from 'node-mind';\nimport constants from './constants'\nimport _ from 'lodash'\n\n\nconst mind = Mind({learningRate: 0.3, activator: 'sigmoid'});\n\nconst trainingData = [];\nlet catsArray = _getTargetCollection();\n\n\nfunction learn() {\n    mind.learn(trainingData);\n}\n\nfunction predict(recipe) {\n\n    let input = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    if (catsArray.length === 0)\n        catsArray = _getTargetCollection();\n\n    recipe.categories.forEach(function (cat) {\n        let target = {};\n        catsArray.forEach(function (obj) {\n            let index = _.findIndex(obj.family, cat);\n            if (index > -1) {\n                target = obj.parent;\n            }\n        })\n        let index = _.findIndex(constants.materials, target);\n        if (index > -1) input[index] = 1;\n    })\n\n    let prediction = mind.predict(input) * 5;\n    prediction = Math.round(prediction);\n    return prediction;\n}\n\nfunction rate(recipe, rating) {\n\n    let input = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    if (catsArray.length === 0)\n        catsArray = _getTargetCollection();\n\n    recipe.categories.forEach(function (cat) {\n        let target = {};\n        catsArray.forEach(function (obj) {\n            let index = _.findIndex(obj.family, cat);\n            if (index > -1) {\n                target = obj.parent;\n            }\n        })\n        let index = _.findIndex(constants.materials, target);\n        if (index > -1) input[index] = 1;\n    })\n    let data = {input: input, output: [rating / 5]};\n    trainingData.push(data);\n}\n\nfunction _getTargetCollection() {\n    catsArray = window.localStorage.getItem('wtet_categories');\n    return catsArray !== null ? JSON.parse(catsArray) : [];\n}\n\nconst brain = {\n    learn, predict, rate\n}\n\nexport default brain;\n\n\n// WEBPACK FOOTER //\n// ./client/core/brain.js","/**\n * Axios Request Wrapper\n * ---------------------\n *\n */\n\nimport axios     from 'axios'\n\n/**\n * Create an Axios Client with defaults\n */\nconst client = axios.create({\n    baseURL: ''\n});\n\n\n/**\n * Request Wrapper with default success/error actions\n */\nconst request = function (options) {\n    const onSuccess = function (response) {\n        //console.debug('Request Successful!', response);\n        return response.data;\n    }\n\n    const onError = function (error) {\n        console.error('Request Failed:', error.config);\n\n        if (error.response) {\n            // Request was made but server responded with something\n            // other than 2xx\n            console.error('Status:', error.response.status);\n            console.error('Data:', error.response.data);\n            console.error('Headers:', error.response.headers);\n\n        } else {\n            // Something else happened while setting up the request\n            // triggered the error\n            console.error('Error Message:', error.message);\n        }\n\n        return Promise.reject(error.response || error.message);\n    }\n\n    return client(options)\n        .then(onSuccess)\n        .catch(onError);\n}\n\nexport default request;\n\n\n// WEBPACK FOOTER //\n// ./client/core/request.js","import constants from './constants'\nimport request from './request'\n\n/**\n * 遍历预设的二级分类集合,依次检出其对应的所有三级分类\n * 并添加到其对应父级分类的后面,用来扩充食谱的选择范围\n */\nfunction getAllCategories() {\n\n    let catsArray = window.localStorage.getItem('wtet_categories');\n    if (catsArray === null) {\n        catsArray = [];\n        let materials = constants.materials;\n        let promises = [];\n        for (let i = 0; i < materials.length; i++) {\n            let promise = new Promise((resolve, reject) => {\n                request({\n                    url: `/api/fetchAllByPid/${materials[i].id}`,\n                    method: 'GET'\n                }).then(res => {\n                    resolve(res)\n                }).catch(err => {\n                    reject(err)\n                })\n            });\n            promises.push(promise)\n        }\n\n        Promise.all(promises).then(values => {\n            values.forEach(function (value, i) {\n                let ids = value.map(function (v) {\n                    return v.id\n                })\n                catsArray.push(value.length ? [materials[i].id].concat(ids) : [materials[i].id]);\n            })\n            window.localStorage.setItem('wtet_categories', JSON.stringify(catsArray));\n        }).catch(reason => {\n            console.log(reason)\n        });\n    }\n\n}\n\n/**\n * 随机产生一个二级或三级分类,并随机请求其下面的任意一个食谱\n */\nfunction generateARecipe() {\n    let catsArray = window.localStorage.getItem('wtet_categories');\n    let targetId = 1;\n    if (catsArray == null) {\n        targetId = constants.materials[random(constants.materials.length)].id;\n    } else {\n        catsArray = JSON.parse(catsArray)\n        let rindex1 = random(catsArray.length);\n        let rindex2 = random(catsArray[rindex1].length);\n        targetId = catsArray[rindex1][rindex2];\n    }\n    return request({\n        url: `/api/fetchRandomRecipe/${targetId}`,\n        method: 'GET',\n        timeout: 1000\n    })\n}\n\n\nfunction random(length) {\n    return Math.floor(Math.random() * length);\n}\n\nconst Service = {\n    getAllCategories, generateARecipe\n}\n\ngetAllCategories();\n\nexport default Service;\n\n\n// WEBPACK FOOTER //\n// ./client/core/service.js","<template>\n    <!-- App -->\n    <div id=\"app\">\n\n        <!-- Main Views -->\n        <f7-views>\n            <f7-view id=\"main-view\" main>\n                <!-- Pages -->\n                <f7-pages>\n                    <f7-page>\n                        <!-- Page Content -->\n                        <f7-card :title=\"recipe.name\" :content=\"description\">\n                            <div class=\"recipe-block\">\n                                <img :src=\"recipe.lImage\"/>\n                            </div>\n                        </f7-card>\n                        <f7-block>\n                            <f7-grid>\n                                <f7-col width=\"30\">\n                                    <a href=\"#\" @click=\"skip\" class=\"button color-yellow button-fill button-big\">跳过</a>\n                                </f7-col>\n                                <f7-col width=\"70\">\n                                    <star-rating inactive-color=\"#000\"\n                                                 active-color=\"#f00\"\n                                                 v-bind:star-size=\"40\"\n                                                 v-bind:show-rating=false\n                                                 :rating=\"resetableRating\"\n                                                 @rating-selected=\"setRating\"/>\n                                </f7-col>\n                            </f7-grid>\n                        </f7-block>\n\n                        <f7-block class=\"prediction\" v-if=\"numRated >= 10\">\n                            <f7-grid>\n                                <f7-col class=\"prediction-note\" width=\"30\">\n                                    猜你多喜欢:\n\n\n\n                                </f7-col>\n                                <f7-col width=\"70\">\n                                    <star-rating inactive-color=\"#000\"\n                                                 active-color=\"#f00\"\n                                                 v-bind:star-size=\"40\"\n                                                 v-bind:show-rating=false\n                                                 v-bind:read-only=true\n                                                 :rating=\"predictRating\"/>\n                                </f7-col>\n                            </f7-grid>\n                        </f7-block>\n                    </f7-page>\n                </f7-pages>\n            </f7-view>\n        </f7-views>\n\n\n    </div>\n</template>\n<style>\n    .recipe-block {\n        display: flex;\n        justify-content: center;\n        height: 300px;\n        padding: 10px;\n        padding-top: 0;\n    }\n\n    .recipe-block img {\n        width: 100%;\n    }\n\n    .prediction {\n        margin: 0 0 35px 0;\n    }\n\n    .content-block {\n        margin: 15px 0;\n    }\n\n    .prediction-note {\n        text-align: center;\n        display: inline-block;\n        height: 45px;\n        padding: 10px 0;\n        font-size: 16px;\n    }\n</style>\n<script>\n    import StarRating from 'vue-star-rating'\n    import Service from './core/service'\n    import brain from './core/brain'\n\n    export default{\n        data() {\n            return {\n                recipe: {},\n                description: '',\n                numRated: 0,\n                resetableRating: 0,\n                predictRating: 0,\n                description: ''\n            }\n        },\n        mounted: function () {\n            this.description = '别着急，先让我了解你一下（10）';\n            this.fetchRandomRecipe()\n        },\n        methods: {\n            fetchRandomRecipe: function () {\n                let self = this;\n                Service.generateARecipe()\n                    .then(function (res) {\n                        self.recipe = res;\n                        self.resetRating();\n\n                        if (self.numRated >= 10) {\n                            brain.learn();\n                            self.description = '如果我说错了,请告诉我,我会越来越懂你';\n                            self.predictRating = brain.predict(res);\n                        }\n                    }).catch(function (err) {\n                    console.log(err)\n                    self.fetchRandomRecipe();\n                })\n            },\n            skip: function () {\n                this.fetchRandomRecipe();\n            },\n            setRating: function (rating) {\n                let self = this;\n                self.resetableRating = rating;\n                self.numRated++;\n                if(self.numRated <= 10){\n                    self.description = '别着急，先让我了解你一下（' + (10 - self.numRated) + '）';\n                }\n                brain.rate(self.recipe, rating);\n\n\n                setTimeout(function () {\n                    self.fetchRandomRecipe()\n                }, 0)\n            },\n            resetRating() {\n                this.resetableRating = 0;\n            }\n        },\n        components: {\n            StarRating\n        }\n    }\n</script>\n\n\n// WEBPACK FOOTER //\n// app.vue?6159416c","<template>\r\n    <div :class=\"['star-rating', {inline: inline}]\">\r\n        <div @mouseleave=\"resetRating\" class=\"star-rating\">\r\n            <span v-for=\"n in maxRating\" :class=\"[{pointer: !readOnly }, 'star']\">\r\n              <star :fill=\"fillLevel[n-1]\" :size=\"starSize\" :star-id=\"n\" :step=\"step\" :active-color=\"activeColor\" :inactive-color=\"inactiveColor\" :border-color=\"borderColor\" :border-width=\"borderWidth\" :padding=\"padding\" @star-selected=\"setRating($event, true)\" @star-mouse-move=\"setRating\"></star>\r\n            </span>\r\n            <span v-if=\"showRating\" :class=\"['rating-text', textClass]\"> {{currentRating}}</span>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\nimport star from './star.vue';\r\nexport default {\r\n    components: {\r\n        star\r\n    },\r\n    props: {\r\n        increment: {\r\n            type: Number,\r\n            default: 1\r\n        },\r\n        rating: {\r\n            type: Number,\r\n            default: 0\r\n        },\r\n        activeColor: {\r\n            type: String,\r\n            default: \"#ffd055\"\r\n        },\r\n        inactiveColor: {\r\n            type: String,\r\n            default: \"#d8d8d8\"\r\n        },\r\n        maxRating: {\r\n            type: Number,\r\n            default: 5\r\n        },\r\n        starSize: {\r\n            type: Number,\r\n            default: 50\r\n        },\r\n        showRating: {\r\n            type: Boolean,\r\n            default: true\r\n        },\r\n        readOnly: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        textClass: {\r\n            type: String,\r\n            default: \"\"\r\n        },\r\n        inline: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        borderColor: {\r\n            type: String,\r\n            default: \"#999\"\r\n        },\r\n        borderWidth: {\r\n            type: Number,\r\n            default: 0\r\n        },\r\n        padding: {\r\n            type: Number,\r\n            default: 0\r\n        }\r\n    },\r\n    created() {\r\n        this.step = this.increment * 100;\r\n        this.currentRating = this.rating;\r\n        this.selectedRating = this.rating;\r\n        this.createStars();\r\n    },\r\n    methods: {\r\n        setRating($event, persist) {\r\n            if (!this.readOnly) {\r\n                let position = $event.position / 100;\r\n                this.currentRating = (($event.id + position) - 1).toFixed(2);\r\n                this.currentRating = (this.currentRating > this.maxRating) ? this.maxRating : this.currentRating;\r\n                this.createStars();\r\n                if (persist) {\r\n                    this.selectedRating = this.currentRating;\r\n                    this.$emit('rating-selected', this.selectedRating);\r\n                } else {\r\n                    this.$emit('current-rating', this.currentRating);\r\n                }\r\n            }\r\n        },\r\n        resetRating() {\r\n            if (!this.readOnly) {\r\n                this.currentRating = this.selectedRating;\r\n                this.createStars();\r\n            }\r\n        },\r\n        createStars() {\r\n            this.round();\r\n            for (var i = 0; i < this.maxRating; i++) {\r\n                let level = 0;\r\n                if (i < this.currentRating) {\r\n                    level = (this.currentRating - i > 1) ? 100 : (this.currentRating - i) * 100;\r\n                }\r\n                this.$set(this.fillLevel, i, Math.round(level));\r\n            }\r\n        },\r\n        round() {\r\n            var inv = 1.0 / this.increment;\r\n            this.currentRating = Math.ceil(this.currentRating * inv) / inv;\r\n        }\r\n    },\r\n    watch: {\r\n        rating(val) {\r\n            this.currentRating = val;\r\n            this.selectedRating = val;\r\n            this.createStars();\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            step: 0,\r\n            fillLevel: [],\r\n            currentRating: 0,\r\n            selectedRating: 0\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.star {\r\n    display: inline-block;\r\n}\r\n.pointer {\r\n    cursor: pointer;\r\n}\r\n.star-rating {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n.inline {\r\n    display: inline-flex;\r\n}\r\n.rating-text {\r\n    margin-top: 7px;\r\n    margin-left: 7px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// star-rating.vue?af3e457e","<template>\r\n    <svg :height=\"getSize\" :width=\"getSize\" @mousemove=\"mouseMoving\" @click=\"selected\">\r\n        <linearGradient :id=\"grad\" x1=\"0\" x2=\"100%\" y1=\"0\" y2=\"0\">\r\n            <stop :offset=\"getFill\" :stop-color=\"activeColor\" />\r\n            <stop :offset=\"getFill\" :stop-color=\"inactiveColor\" />\r\n        </linearGradient>\r\n        <polygon :points=\"starPointsToString\" :fill=\"getGradId\" :stroke=\"borderColor\" :stroke-width=\"borderWidth\" />\r\n        <polygon :points=\"starPointsToString\" :fill=\"getGradId\" />\r\n    </svg>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\nexport default {\r\n    props: {\r\n        fill: {\r\n            type: Number,\r\n            default: 0\r\n        },\r\n        size: {\r\n            type: Number,\r\n            default: 50\r\n        },\r\n        starId: {\r\n            type: Number,\r\n            required: true\r\n        },\r\n        activeColor: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        inactiveColor: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        borderColor: {\r\n            type: String,\r\n            default: \"#000\"\r\n        },\r\n        borderWidth: {\r\n            type: Number,\r\n            default: 0\r\n        },\r\n        padding: {\r\n            type: Number,\r\n            default: 0\r\n        }\r\n    },\r\n    created() {\r\n        this.calculatePoints;\r\n        this.grad = Math.random().toString(36).substring(7);\r\n    },\r\n    computed: {\r\n        calculatePoints() {\r\n            this.starPoints = this.starPoints.map((point) => {\r\n                return ((this.size / 43) * point) + (this.borderWidth * 1.5);\r\n            });\r\n        },\r\n        starPointsToString() {\r\n            return this.starPoints.join(',');\r\n        },\r\n        getGradId() {\r\n            return 'url(#' + this.grad + ')';\r\n        },\r\n        getSize() {\r\n            return parseInt(this.size) + parseInt(this.borderWidth * 3) + this.padding;\r\n        },\r\n        getFill() {\r\n            return this.fill + \"%\";\r\n        }\r\n    },\r\n    methods: {\r\n        mouseMoving($event) {\r\n            this.$emit('star-mouse-move', {\r\n                event: $event,\r\n                position: this.getPosition($event),\r\n                id: this.starId\r\n            })\r\n        },\r\n        getPosition($event) {\r\n            // calculate position in percentage.\r\n            var starWidth = (92 / 100) * this.size;\r\n            var position = Math.round((100 / starWidth) * $event.offsetX);\r\n            return (position > 100) ? 100 : position;\r\n        },\r\n        selected($event) {\r\n            this.$emit('star-selected', {\r\n                id: this.starId,\r\n                position: this.getPosition($event)\r\n            })\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            starPoints: [19.8, 2.2, 6.6, 43.56, 39.6, 17.16, 0, 17.16, 33, 43.56],\r\n            grad: ''\r\n        }\r\n    }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// star.vue?4eebfd12","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../node_modules/vue-loader/lib/style-rewriter?id=data-v-07303157!../node_modules/vue-loader/lib/selector?type=styles&index=0!./app.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./app.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler?id=data-v-07303157!../node_modules/vue-loader/lib/selector?type=template&index=0!./app.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/app.vue\n// module id = 123\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../vue-loader/lib/style-rewriter?id=data-v-5d7117b8&scoped=true!../../vue-loader/lib/selector?type=styles&index=0!./star-rating.vue\")\n\nvar Component = require(\"!../../vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../vue-loader/lib/selector?type=script&index=0!./star-rating.vue\"),\n  /* template */\n  require(\"!!../../vue-loader/lib/template-compiler?id=data-v-5d7117b8!../../vue-loader/lib/selector?type=template&index=0!./star-rating.vue\"),\n  /* scopeId */\n  \"data-v-5d7117b8\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-star-rating/src/star-rating.vue\n// module id = 124\n// module chunks = 2","var Component = require(\"!../../vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../vue-loader/lib/selector?type=script&index=0!./star.vue\"),\n  /* template */\n  require(\"!!../../vue-loader/lib/template-compiler?id=data-v-0722e656!../../vue-loader/lib/selector?type=template&index=0!./star.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-star-rating/src/star.vue\n// module id = 125\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('svg', {\n    attrs: {\n      \"height\": _vm.getSize,\n      \"width\": _vm.getSize\n    },\n    on: {\n      \"mousemove\": _vm.mouseMoving,\n      \"click\": _vm.selected\n    }\n  }, [_c('linearGradient', {\n    attrs: {\n      \"id\": _vm.grad,\n      \"x1\": \"0\",\n      \"x2\": \"100%\",\n      \"y1\": \"0\",\n      \"y2\": \"0\"\n    }\n  }, [_c('stop', {\n    attrs: {\n      \"offset\": _vm.getFill,\n      \"stop-color\": _vm.activeColor\n    }\n  }), _vm._v(\" \"), _c('stop', {\n    attrs: {\n      \"offset\": _vm.getFill,\n      \"stop-color\": _vm.inactiveColor\n    }\n  })], 1), _vm._v(\" \"), _c('polygon', {\n    attrs: {\n      \"points\": _vm.starPointsToString,\n      \"fill\": _vm.getGradId,\n      \"stroke\": _vm.borderColor,\n      \"stroke-width\": _vm.borderWidth\n    }\n  }), _vm._v(\" \"), _c('polygon', {\n    attrs: {\n      \"points\": _vm.starPointsToString,\n      \"fill\": _vm.getGradId\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-0722e656!./~/vue-loader/lib/selector.js?type=template&index=0!./~/vue-star-rating/src/star.vue\n// module id = 126\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('f7-views', [_c('f7-view', {\n    attrs: {\n      \"id\": \"main-view\",\n      \"main\": \"\"\n    }\n  }, [_c('f7-pages', [_c('f7-page', [_c('f7-card', {\n    attrs: {\n      \"title\": _vm.recipe.name,\n      \"content\": _vm.description\n    }\n  }, [_c('div', {\n    staticClass: \"recipe-block\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.recipe.lImage\n    }\n  })])]), _vm._v(\" \"), _c('f7-block', [_c('f7-grid', [_c('f7-col', {\n    attrs: {\n      \"width\": \"30\"\n    }\n  }, [_c('a', {\n    staticClass: \"button color-yellow button-fill button-big\",\n    attrs: {\n      \"href\": \"#\"\n    },\n    on: {\n      \"click\": _vm.skip\n    }\n  }, [_vm._v(\"跳过\")])]), _vm._v(\" \"), _c('f7-col', {\n    attrs: {\n      \"width\": \"70\"\n    }\n  }, [_c('star-rating', {\n    attrs: {\n      \"inactive-color\": \"#000\",\n      \"active-color\": \"#f00\",\n      \"star-size\": 40,\n      \"show-rating\": false,\n      \"rating\": _vm.resetableRating\n    },\n    on: {\n      \"rating-selected\": _vm.setRating\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), (_vm.numRated >= 10) ? _c('f7-block', {\n    staticClass: \"prediction\"\n  }, [_c('f7-grid', [_c('f7-col', {\n    staticClass: \"prediction-note\",\n    attrs: {\n      \"width\": \"30\"\n    }\n  }, [_vm._v(\"\\n                                猜你多喜欢:\\n\\n\\n\\n                            \")]), _vm._v(\" \"), _c('f7-col', {\n    attrs: {\n      \"width\": \"70\"\n    }\n  }, [_c('star-rating', {\n    attrs: {\n      \"inactive-color\": \"#000\",\n      \"active-color\": \"#f00\",\n      \"star-size\": 40,\n      \"show-rating\": false,\n      \"read-only\": true,\n      \"rating\": _vm.predictRating\n    }\n  })], 1)], 1)], 1) : _vm._e()], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-07303157!./~/vue-loader/lib/selector.js?type=template&index=0!./client/app.vue\n// module id = 127\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: ['star-rating', {\n      inline: _vm.inline\n    }]\n  }, [_c('div', {\n    staticClass: \"star-rating\",\n    on: {\n      \"mouseleave\": _vm.resetRating\n    }\n  }, [_vm._l((_vm.maxRating), function(n) {\n    return _c('span', {\n      class: [{\n        pointer: !_vm.readOnly\n      }, 'star']\n    }, [_c('star', {\n      attrs: {\n        \"fill\": _vm.fillLevel[n - 1],\n        \"size\": _vm.starSize,\n        \"star-id\": n,\n        \"step\": _vm.step,\n        \"active-color\": _vm.activeColor,\n        \"inactive-color\": _vm.inactiveColor,\n        \"border-color\": _vm.borderColor,\n        \"border-width\": _vm.borderWidth,\n        \"padding\": _vm.padding\n      },\n      on: {\n        \"star-selected\": function($event) {\n          _vm.setRating($event, true)\n        },\n        \"star-mouse-move\": _vm.setRating\n      }\n    })], 1)\n  }), _vm._v(\" \"), (_vm.showRating) ? _c('span', {\n    class: ['rating-text', _vm.textClass]\n  }, [_vm._v(\" \" + _vm._s(_vm.currentRating))]) : _vm._e()], 2)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-5d7117b8!./~/vue-loader/lib/selector.js?type=template&index=0!./~/vue-star-rating/src/star-rating.vue\n// module id = 128\n// module chunks = 2"],"sourceRoot":""}