{"version":3,"sources":["webpack:///dist/static/js/app.a42f258c72deca195027.js","webpack:///./client/main.js","webpack:///./client/core/constants.js","webpack:///./client/core/brain.js","webpack:///./client/core/request.js","webpack:///./client/core/service.js","webpack:///app.vue","webpack:///star-rating.vue","webpack:///star.vue","webpack:///./client/app.vue","webpack:///./~/vue-star-rating/src/star-rating.vue","webpack:///./~/vue-star-rating/src/star.vue","webpack:///./~/vue-star-rating/src/star.vue?0f62","webpack:///./client/app.vue?3c20","webpack:///./~/vue-star-rating/src/star-rating.vue?06f4"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_framework","_framework7Vue","_framework7Vue2","_framework7IosMin","_framework7IosColorsMin","_app","_routes","_routes2","_app3","_app4","use","el","template","framework7","root","routes","components","app","28","Object","defineProperty","value","materials","id","name","taste","59","learn","mind","trainingData","predict","recipe","input","categories","forEach","cat","target","catsArray","index","_lodash2","findIndex","family","parent","_constants2","prediction","Math","round","rate","rating","data","output","console","log","push","_nodeMind","_nodeMind2","_constants","_lodash","learningRate","activator","window","localStorage","getItem","JSON","parse","brain","60","_promise","_promise2","_axios","_axios2","client","create","baseURL","request","options","onSuccess","response","onError","error","config","status","headers","message","reject","then","catch","61","getAllCategories","length","pCats","_loop","i","pid","values","_request2","url","method","resp","j","setTimeout","setItem","_stringify2","generateARecipe","rindex1","random","rindex2","targetCat","cid","cname","floor","_stringify","_request","Service","62","63","_vueStarRating","_vueStarRating2","_service","_service2","_brain","_brain2","description","numRated","resetableRating","predictRating","created","this","fetchRandomRecipe","methods","self","res","resetRating","skip","setRating","StarRating","64","_star","_star2","star","props","increment","type","Number","activeColor","String","inactiveColor","maxRating","starSize","showRating","Boolean","readOnly","textClass","inline","borderColor","borderWidth","padding","step","currentRating","selectedRating","createStars","$event","persist","position","toFixed","$emit","level","$set","fillLevel","inv","ceil","watch","val","65","fill","size","starId","required","calculatePoints","grad","toString","substring","computed","_this","starPoints","map","point","starPointsToString","join","getGradId","getSize","parseInt","getFill","mouseMoving","event","getPosition","starWidth","offsetX","selected","103","104","105","106","107","119","Component","120","121","122","render","_vm","_h","$createElement","_c","_self","attrs","height","width","on","mousemove","click","x1","x2","y1","y2","offset","stop-color","_v","points","stroke","stroke-width","staticRenderFns","123","main","title","content","staticClass","src","lImage","href","inactive-color","active-color","star-size","show-rating","rating-selected","read-only","_e","124","class","mouseleave","_l","n","pointer","star-id","border-color","border-width","star-selected","star-mouse-move","_s"],"mappings":"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I,GAAQK,SACJoD,KAAM,WACF,OACIlB,UACA2F,YMpUb,GNqUaC,SMpUb,ENqUaC,gBMpUb,ENqUaC,cMnUb,INuUKC,QAAS,WACLC,KAAKL,YMrUd,uBNsUSK,KMrUTC,qBNuUKC,SACID,kBAAmB,WACf,GAAIE,GMrUjBH,INsUaR,GAAU1H,QMrUvB0G,kBAAAlB,KAAA,SAAA8C,GNsUiBD,EAAKnG,OMpUtBoG,ENqUiBD,EMnUjBE,cNqUqBF,EAAKP,SAAW,KAChBF,EAAQ5H,QMpU7B8B,QNqUqBuG,EAAKR,YMpU1B,sBNqUqBQ,EAAKL,cAAgBJ,EAAQ5H,QAAQiC,QMpU1DqG,ONwUSE,KAAM,WACFN,KMnUbC,qBNqUSM,UAAW,SAAmBtF,GAC1B,GAAIkF,GMnUjBH,INoUaG,GAAKN,gBMnUlB5E,ENoUakF,EMnUbP,WNoUaF,EAAQ5H,QAAQkD,KAAKmF,EAAKnG,OMjUvCiB,GNmUaoD,WAAW,WACP8B,EMlUjBF,qBACA,INoUSI,YAAa,WACTL,KAAKH,gBMlUlB,INqUK5G,YMhULuH,WAAAlB,EAAAxH,WNuUM2I,GACA,SAASjJ,EAAQC,EAASC,GAE/B,YAUA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GARvFwB,OAAOC,eAAe5B,EAAS,cAC3B6B,OAAO,GO7cZ,IAAAoH,GAAAhJ,EAAA,KPkdKiJ,EAAShJ,EAAuB+I,EAIpCjJ,GAAQK,SACJmB,YOndL2H,KAAAD,EAAA7I,SPsdK+I,OACIC,WACIC,KOrdbC,OPsdalJ,QOpdb,GPsdSmD,QACI8F,KOrdbC,OPsdalJ,QOpdb,GPsdSmJ,aACIF,KOrdbG,OPsdapJ,QOpdb,WPsdSqJ,eACIJ,KOrdbG,OPsdapJ,QOpdb,WPsdSsJ,WACIL,KOrdbC,OPsdalJ,QOpdb,GPsdSuJ,UACIN,KOrdbC,OPsdalJ,QOpdb,IPsdSwJ,YACIP,KOrdbQ,QPsdazJ,SOpdb,GPsdS0J,UACIT,KOrdbQ,QPsdazJ,SOpdb,GPsdS2J,WACIV,KOrdbG,OPsdapJ,QOpdb,IPsdS4J,QACIX,KOrdbQ,QPsdazJ,SOpdb,GPsdS6J,aA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","file":"dist/static/js/app.a42f258c72deca195027.js","sourcesContent":["webpackJsonp([2,0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(125);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _framework = __webpack_require__(109);\n\t\n\tvar _framework2 = _interopRequireDefault(_framework);\n\t\n\tvar _framework7Vue = __webpack_require__(108);\n\t\n\tvar _framework7Vue2 = _interopRequireDefault(_framework7Vue);\n\t\n\tvar _framework7IosMin = __webpack_require__(105);\n\t\n\tvar _framework7IosMin2 = _interopRequireDefault(_framework7IosMin);\n\t\n\tvar _framework7IosColorsMin = __webpack_require__(104);\n\t\n\tvar _framework7IosColorsMin2 = _interopRequireDefault(_framework7IosColorsMin);\n\t\n\tvar _app = __webpack_require__(103);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\tvar _routes = __webpack_require__(62);\n\t\n\tvar _routes2 = _interopRequireDefault(_routes);\n\t\n\tvar _app3 = __webpack_require__(119);\n\t\n\tvar _app4 = _interopRequireDefault(_app3);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_framework7Vue2.default);\n\t\n\tnew _vue2.default({\n\t  el: '#app',\n\t  template: '<app/>',\n\t\n\t  framework7: {\n\t    root: '#app',\n\t\n\t    routes: _routes2.default\n\t  },\n\t\n\t  components: {\n\t    app: _app4.default\n\t  }\n\t});\n\n/***/ },\n\n/***/ 28:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = {\n\t    materials: [{\n\t        id: 5399,\n\t        name: '猪'\n\t    }, {\n\t        id: 104,\n\t        name: '鸡'\n\t    }, {\n\t        id: 5443,\n\t        name: '牛'\n\t    }, {\n\t        id: 5418,\n\t        name: '羊'\n\t    }, {\n\t        id: 275,\n\t        name: '鸭'\n\t    }, {\n\t        id: 605,\n\t        name: '牛蛙'\n\t    }, {\n\t        id: 719,\n\t        name: '兔肉'\n\t    }, {\n\t        id: 20132,\n\t        name: '饭'\n\t    }, {\n\t        id: 20133,\n\t        name: '面'\n\t    }, {\n\t        id: 20148,\n\t        name: '饺子'\n\t    }, {\n\t        id: 20150,\n\t        name: '混沌'\n\t    }, {\n\t        id: 957,\n\t        name: '鱼'\n\t    }, {\n\t        id: 4553,\n\t        name: '贝'\n\t    }, {\n\t        id: 469,\n\t        name: '虾'\n\t    }, {\n\t        id: 1183,\n\t        name: '螃蟹'\n\t    }],\n\t\n\t    taste: [{\n\t        id: 51359,\n\t        name: '辣'\n\t    }, {\n\t        id: 51922,\n\t        name: '咖喱'\n\t    }, {\n\t        id: 40066,\n\t        name: '糖醋'\n\t    }, {\n\t        id: 52413,\n\t        name: '蒜香'\n\t    }, {\n\t        id: 51449,\n\t        name: '酸甜'\n\t    }, {\n\t        id: 52407,\n\t        name: '奶香'\n\t    }, {\n\t        id: 52401,\n\t        name: '孜然'\n\t    }, {\n\t        id: 51875,\n\t        name: '鱼香'\n\t    }, {\n\t        id: 52399,\n\t        name: '五香'\n\t    }, {\n\t        id: 51460,\n\t        name: '清淡'\n\t    }]\n\t};\n\n/***/ },\n\n/***/ 59:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _nodeMind = __webpack_require__(114);\n\t\n\tvar _nodeMind2 = _interopRequireDefault(_nodeMind);\n\t\n\tvar _constants = __webpack_require__(28);\n\t\n\tvar _constants2 = _interopRequireDefault(_constants);\n\t\n\tvar _lodash = __webpack_require__(112);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar mind = (0, _nodeMind2.default)({ learningRate: 0.3, activator: 'sigmoid' });\n\t\n\tvar trainingData = [];\n\tvar catsArray = window.localStorage.getItem('wtet_categories');\n\tif (catsArray !== null) {\n\t    catsArray = JSON.parse(catsArray);\n\t}\n\t\n\tfunction learn() {\n\t    mind.learn(trainingData);\n\t}\n\t\n\tfunction predict(recipe) {\n\t\n\t    var input = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\t    recipe.categories.forEach(function (cat) {\n\t        var target = {};\n\t        catsArray.forEach(function (obj) {\n\t            var index = _lodash2.default.findIndex(obj.family, cat);\n\t            if (index > -1) {\n\t                target = obj.parent;\n\t            }\n\t        });\n\t        var index = _lodash2.default.findIndex(_constants2.default.materials, target);\n\t        if (index > -1) input[index] = 1;\n\t    });\n\t\n\t    var prediction = mind.predict(input) * 5;\n\t    prediction = Math.round(prediction);\n\t    return prediction;\n\t}\n\t\n\tfunction rate(recipe, rating) {\n\t\n\t    var input = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\t    recipe.categories.forEach(function (cat) {\n\t        var target = {};\n\t        catsArray.forEach(function (obj) {\n\t            var index = _lodash2.default.findIndex(obj.family, cat);\n\t            if (index > -1) {\n\t                target = obj.parent;\n\t            }\n\t        });\n\t        var index = _lodash2.default.findIndex(_constants2.default.materials, target);\n\t        if (index > -1) input[index] = 1;\n\t    });\n\t    var data = { input: input, output: [rating / 5] };\n\t    console.log(data);\n\t    trainingData.push(data);\n\t}\n\t\n\tvar brain = {\n\t    learn: learn, predict: predict, rate: rate\n\t};\n\t\n\texports.default = brain;\n\n/***/ },\n\n/***/ 60:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _promise = __webpack_require__(67);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _axios = __webpack_require__(41);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar client = _axios2.default.create({\n\t    baseURL: ''\n\t});\n\t\n\tvar request = function request(options) {\n\t    var onSuccess = function onSuccess(response) {\n\t        return response.data;\n\t    };\n\t\n\t    var onError = function onError(error) {\n\t        console.error('Request Failed:', error.config);\n\t\n\t        if (error.response) {\n\t            console.error('Status:', error.response.status);\n\t            console.error('Data:', error.response.data);\n\t            console.error('Headers:', error.response.headers);\n\t        } else {\n\t            console.error('Error Message:', error.message);\n\t        }\n\t\n\t        return _promise2.default.reject(error.response || error.message);\n\t    };\n\t\n\t    return client(options).then(onSuccess).catch(onError);\n\t};\n\t\n\texports.default = request;\n\n/***/ },\n\n/***/ 61:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(66);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _constants = __webpack_require__(28);\n\t\n\tvar _constants2 = _interopRequireDefault(_constants);\n\t\n\tvar _request = __webpack_require__(60);\n\t\n\tvar _request2 = _interopRequireDefault(_request);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction getAllCategories() {\n\t\n\t    var catsArray = window.localStorage.getItem('wtet_categories');\n\t    if (catsArray === null || catsArray.length === 0) {\n\t        (function () {\n\t            catsArray = [];\n\t            var pCats = _constants2.default.materials;\n\t\n\t            var _loop = function _loop(i) {\n\t                var pid = pCats[i].id;\n\t                var values = [pCats[i]];\n\t                (0, _request2.default)({\n\t                    url: '/api/fetchAllByPid/' + pid,\n\t                    method: 'GET'\n\t                }).then(function (resp) {\n\t                    if (resp && resp.length > 0) {\n\t                        for (var j = 0; j < resp.length; j++) {\n\t                            values.push({\n\t                                id: resp[j].id,\n\t                                name: resp[j].name\n\t                            });\n\t                        }\n\t                    }\n\t                    catsArray.push({\n\t                        parent: pCats[i],\n\t                        family: values\n\t                    });\n\t                });\n\t            };\n\t\n\t            for (var i = 0; i < pCats.length; i++) {\n\t                _loop(i);\n\t            }\n\t\n\t            setTimeout(function () {\n\t                if (catsArray.length === _constants2.default.materials.length) {\n\t                    window.localStorage.setItem('wtet_categories', (0, _stringify2.default)(catsArray));\n\t                }\n\t            }, 4000);\n\t        })();\n\t    }\n\t}\n\t\n\tfunction generateARecipe() {\n\t\n\t    var catsArray = window.localStorage.getItem('wtet_categories');\n\t    if (catsArray !== null) {\n\t        catsArray = JSON.parse(catsArray);\n\t    }\n\t    var rindex1 = random(catsArray.length);\n\t    var rindex2 = random(catsArray[rindex1].family.length);\n\t    var targetCat = catsArray[rindex1].family[rindex2];\n\t    var cid = targetCat.id;\n\t    var cname = targetCat.name;\n\t\n\t    return (0, _request2.default)({\n\t        url: '/api/fetchRandomRecipe/' + cid + '/' + cname,\n\t        method: 'GET'\n\t    });\n\t}\n\t\n\tfunction random(length) {\n\t    return Math.floor(Math.random() * length);\n\t}\n\t\n\tvar Service = {\n\t    getAllCategories: getAllCategories, generateARecipe: generateARecipe\n\t};\n\t\n\tgetAllCategories();\n\t\n\texports.default = Service;\n\n/***/ },\n\n/***/ 62:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = [];\n\n/***/ },\n\n/***/ 63:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _vueStarRating = __webpack_require__(120);\n\t\n\tvar _vueStarRating2 = _interopRequireDefault(_vueStarRating);\n\t\n\tvar _service = __webpack_require__(61);\n\t\n\tvar _service2 = _interopRequireDefault(_service);\n\t\n\tvar _brain = __webpack_require__(59);\n\t\n\tvar _brain2 = _interopRequireDefault(_brain);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    data: function data() {\n\t        return {\n\t            recipe: {},\n\t            description: '',\n\t            numRated: 0,\n\t            resetableRating: 0,\n\t            predictRating: 0\n\t        };\n\t    },\n\t\n\t    created: function created() {\n\t        this.description = '先看看你的口味,10次之后,我会作出预测';\n\t        this.fetchRandomRecipe();\n\t    },\n\t    methods: {\n\t        fetchRandomRecipe: function fetchRandomRecipe() {\n\t            var self = this;\n\t            _service2.default.generateARecipe().then(function (res) {\n\t                self.recipe = res;\n\t                self.resetRating();\n\t\n\t                if (self.numRated > 10) {\n\t                    _brain2.default.learn();\n\t                    self.description = '如果我说错了,请告诉我,我会越来越懂你';\n\t                    self.predictRating = _brain2.default.predict(res);\n\t                }\n\t            });\n\t        },\n\t        skip: function skip() {\n\t            this.fetchRandomRecipe();\n\t        },\n\t        setRating: function setRating(rating) {\n\t            var self = this;\n\t            self.resetableRating = rating;\n\t            self.numRated++;\n\t            _brain2.default.rate(self.recipe, rating);\n\t\n\t            setTimeout(function () {\n\t                self.fetchRandomRecipe();\n\t            }, 0);\n\t        },\n\t        resetRating: function resetRating() {\n\t            this.resetableRating = 0;\n\t        }\n\t    },\n\t    components: {\n\t        StarRating: _vueStarRating2.default\n\t    }\n\t};\n\n/***/ },\n\n/***/ 64:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _star = __webpack_require__(121);\n\t\n\tvar _star2 = _interopRequireDefault(_star);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    components: {\n\t        star: _star2.default\n\t    },\n\t    props: {\n\t        increment: {\n\t            type: Number,\n\t            default: 1\n\t        },\n\t        rating: {\n\t            type: Number,\n\t            default: 0\n\t        },\n\t        activeColor: {\n\t            type: String,\n\t            default: \"#ffd055\"\n\t        },\n\t        inactiveColor: {\n\t            type: String,\n\t            default: \"#d8d8d8\"\n\t        },\n\t        maxRating: {\n\t            type: Number,\n\t            default: 5\n\t        },\n\t        starSize: {\n\t            type: Number,\n\t            default: 50\n\t        },\n\t        showRating: {\n\t            type: Boolean,\n\t            default: true\n\t        },\n\t        readOnly: {\n\t            type: Boolean,\n\t            default: false\n\t        },\n\t        textClass: {\n\t            type: String,\n\t            default: \"\"\n\t        },\n\t        inline: {\n\t            type: Boolean,\n\t            default: false\n\t        },\n\t        borderColor: {\n\t            type: String,\n\t            default: \"#999\"\n\t        },\n\t        borderWidth: {\n\t            type: Number,\n\t            default: 0\n\t        },\n\t        padding: {\n\t            type: Number,\n\t            default: 0\n\t        }\n\t    },\n\t    created: function created() {\n\t        this.step = this.increment * 100;\n\t        this.currentRating = this.rating;\n\t        this.selectedRating = this.rating;\n\t        this.createStars();\n\t    },\n\t\n\t    methods: {\n\t        setRating: function setRating($event, persist) {\n\t            if (!this.readOnly) {\n\t                var position = $event.position / 100;\n\t                this.currentRating = ($event.id + position - 1).toFixed(2);\n\t                this.currentRating = this.currentRating > this.maxRating ? this.maxRating : this.currentRating;\n\t                this.createStars();\n\t                if (persist) {\n\t                    this.selectedRating = this.currentRating;\n\t                    this.$emit('rating-selected', this.selectedRating);\n\t                } else {\n\t                    this.$emit('current-rating', this.currentRating);\n\t                }\n\t            }\n\t        },\n\t        resetRating: function resetRating() {\n\t            if (!this.readOnly) {\n\t                this.currentRating = this.selectedRating;\n\t                this.createStars();\n\t            }\n\t        },\n\t        createStars: function createStars() {\n\t            this.round();\n\t            for (var i = 0; i < this.maxRating; i++) {\n\t                var level = 0;\n\t                if (i < this.currentRating) {\n\t                    level = this.currentRating - i > 1 ? 100 : (this.currentRating - i) * 100;\n\t                }\n\t                this.$set(this.fillLevel, i, Math.round(level));\n\t            }\n\t        },\n\t        round: function round() {\n\t            var inv = 1.0 / this.increment;\n\t            this.currentRating = Math.ceil(this.currentRating * inv) / inv;\n\t        }\n\t    },\n\t    watch: {\n\t        rating: function rating(val) {\n\t            this.currentRating = val;\n\t            this.selectedRating = val;\n\t            this.createStars();\n\t        }\n\t    },\n\t    data: function data() {\n\t        return {\n\t            step: 0,\n\t            fillLevel: [],\n\t            currentRating: 0,\n\t            selectedRating: 0\n\t        };\n\t    }\n\t};\n\n/***/ },\n\n/***/ 65:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = {\n\t    props: {\n\t        fill: {\n\t            type: Number,\n\t            default: 0\n\t        },\n\t        size: {\n\t            type: Number,\n\t            default: 50\n\t        },\n\t        starId: {\n\t            type: Number,\n\t            required: true\n\t        },\n\t        activeColor: {\n\t            type: String,\n\t            required: true\n\t        },\n\t        inactiveColor: {\n\t            type: String,\n\t            required: true\n\t        },\n\t        borderColor: {\n\t            type: String,\n\t            default: \"#000\"\n\t        },\n\t        borderWidth: {\n\t            type: Number,\n\t            default: 0\n\t        },\n\t        padding: {\n\t            type: Number,\n\t            default: 0\n\t        }\n\t    },\n\t    created: function created() {\n\t        this.calculatePoints;\n\t        this.grad = Math.random().toString(36).substring(7);\n\t    },\n\t\n\t    computed: {\n\t        calculatePoints: function calculatePoints() {\n\t            var _this = this;\n\t\n\t            this.starPoints = this.starPoints.map(function (point) {\n\t                return _this.size / 43 * point + _this.borderWidth * 1.5;\n\t            });\n\t        },\n\t        starPointsToString: function starPointsToString() {\n\t            return this.starPoints.join(',');\n\t        },\n\t        getGradId: function getGradId() {\n\t            return 'url(#' + this.grad + ')';\n\t        },\n\t        getSize: function getSize() {\n\t            return parseInt(this.size) + parseInt(this.borderWidth * 3) + this.padding;\n\t        },\n\t        getFill: function getFill() {\n\t            return this.fill + \"%\";\n\t        }\n\t    },\n\t    methods: {\n\t        mouseMoving: function mouseMoving($event) {\n\t            this.$emit('star-mouse-move', {\n\t                event: $event,\n\t                position: this.getPosition($event),\n\t                id: this.starId\n\t            });\n\t        },\n\t        getPosition: function getPosition($event) {\n\t            var starWidth = 92 / 100 * this.size;\n\t            var position = Math.round(100 / starWidth * $event.offsetX);\n\t            return position > 100 ? 100 : position;\n\t        },\n\t        selected: function selected($event) {\n\t            this.$emit('star-selected', {\n\t                id: this.starId,\n\t                position: this.getPosition($event)\n\t            });\n\t        }\n\t    },\n\t    data: function data() {\n\t        return {\n\t            starPoints: [19.8, 2.2, 6.6, 43.56, 39.6, 17.16, 0, 17.16, 33, 43.56],\n\t            grad: ''\n\t        };\n\t    }\n\t};\n\n/***/ },\n\n/***/ 103:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 104:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 105:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 106:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 107:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 119:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(106)\n\t\n\tvar Component = __webpack_require__(22)(\n\t  /* script */\n\t  __webpack_require__(63),\n\t  /* template */\n\t  __webpack_require__(123),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ },\n\n/***/ 120:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(107)\n\t\n\tvar Component = __webpack_require__(22)(\n\t  /* script */\n\t  __webpack_require__(64),\n\t  /* template */\n\t  __webpack_require__(124),\n\t  /* scopeId */\n\t  \"data-v-5d7117b8\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ },\n\n/***/ 121:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Component = __webpack_require__(22)(\n\t  /* script */\n\t  __webpack_require__(65),\n\t  /* template */\n\t  __webpack_require__(122),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ },\n\n/***/ 122:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('svg', {\n\t    attrs: {\n\t      \"height\": _vm.getSize,\n\t      \"width\": _vm.getSize\n\t    },\n\t    on: {\n\t      \"mousemove\": _vm.mouseMoving,\n\t      \"click\": _vm.selected\n\t    }\n\t  }, [_c('linearGradient', {\n\t    attrs: {\n\t      \"id\": _vm.grad,\n\t      \"x1\": \"0\",\n\t      \"x2\": \"100%\",\n\t      \"y1\": \"0\",\n\t      \"y2\": \"0\"\n\t    }\n\t  }, [_c('stop', {\n\t    attrs: {\n\t      \"offset\": _vm.getFill,\n\t      \"stop-color\": _vm.activeColor\n\t    }\n\t  }), _vm._v(\" \"), _c('stop', {\n\t    attrs: {\n\t      \"offset\": _vm.getFill,\n\t      \"stop-color\": _vm.inactiveColor\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('polygon', {\n\t    attrs: {\n\t      \"points\": _vm.starPointsToString,\n\t      \"fill\": _vm.getGradId,\n\t      \"stroke\": _vm.borderColor,\n\t      \"stroke-width\": _vm.borderWidth\n\t    }\n\t  }), _vm._v(\" \"), _c('polygon', {\n\t    attrs: {\n\t      \"points\": _vm.starPointsToString,\n\t      \"fill\": _vm.getGradId\n\t    }\n\t  })], 1)\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 123:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    attrs: {\n\t      \"id\": \"app\"\n\t    }\n\t  }, [_c('f7-views', [_c('f7-view', {\n\t    attrs: {\n\t      \"id\": \"main-view\",\n\t      \"main\": \"\"\n\t    }\n\t  }, [_c('f7-pages', [_c('f7-page', [_c('f7-card', {\n\t    attrs: {\n\t      \"title\": _vm.recipe.name,\n\t      \"content\": _vm.description\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"recipe-block\"\n\t  }, [_c('img', {\n\t    attrs: {\n\t      \"src\": _vm.recipe.lImage\n\t    }\n\t  })])]), _vm._v(\" \"), _c('f7-block', [_c('f7-grid', [_c('f7-col', {\n\t    attrs: {\n\t      \"width\": \"30\"\n\t    }\n\t  }, [_c('a', {\n\t    staticClass: \"button color-yellow button-fill button-big\",\n\t    attrs: {\n\t      \"href\": \"#\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.skip\n\t    }\n\t  }, [_vm._v(\"跳过\")])]), _vm._v(\" \"), _c('f7-col', {\n\t    attrs: {\n\t      \"width\": \"70\"\n\t    }\n\t  }, [_c('star-rating', {\n\t    attrs: {\n\t      \"inactive-color\": \"#000\",\n\t      \"active-color\": \"#f00\",\n\t      \"star-size\": 40,\n\t      \"show-rating\": false,\n\t      \"rating\": _vm.resetableRating\n\t    },\n\t    on: {\n\t      \"rating-selected\": _vm.setRating\n\t    }\n\t  })], 1)], 1)], 1), _vm._v(\" \"), (_vm.numRated > 10) ? _c('f7-block', {\n\t    staticClass: \"prediction\"\n\t  }, [_c('f7-grid', [_c('f7-col', {\n\t    staticClass: \"prediction-note\",\n\t    attrs: {\n\t      \"width\": \"30\"\n\t    }\n\t  }, [_vm._v(\"\\n                                猜你多喜欢:\\n                            \")]), _vm._v(\" \"), _c('f7-col', {\n\t    attrs: {\n\t      \"width\": \"70\"\n\t    }\n\t  }, [_c('star-rating', {\n\t    attrs: {\n\t      \"inactive-color\": \"#000\",\n\t      \"active-color\": \"#f00\",\n\t      \"star-size\": 40,\n\t      \"show-rating\": false,\n\t      \"read-only\": true,\n\t      \"rating\": _vm.predictRating\n\t    }\n\t  })], 1)], 1)], 1) : _vm._e()], 1)], 1)], 1)], 1)], 1)\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 124:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    class: ['star-rating', {\n\t      inline: _vm.inline\n\t    }]\n\t  }, [_c('div', {\n\t    staticClass: \"star-rating\",\n\t    on: {\n\t      \"mouseleave\": _vm.resetRating\n\t    }\n\t  }, [_vm._l((_vm.maxRating), function(n) {\n\t    return _c('span', {\n\t      class: [{\n\t        pointer: !_vm.readOnly\n\t      }, 'star']\n\t    }, [_c('star', {\n\t      attrs: {\n\t        \"fill\": _vm.fillLevel[n - 1],\n\t        \"size\": _vm.starSize,\n\t        \"star-id\": n,\n\t        \"step\": _vm.step,\n\t        \"active-color\": _vm.activeColor,\n\t        \"inactive-color\": _vm.inactiveColor,\n\t        \"border-color\": _vm.borderColor,\n\t        \"border-width\": _vm.borderWidth,\n\t        \"padding\": _vm.padding\n\t      },\n\t      on: {\n\t        \"star-selected\": function($event) {\n\t          _vm.setRating($event, true)\n\t        },\n\t        \"star-mouse-move\": _vm.setRating\n\t      }\n\t    })], 1)\n\t  }), _vm._v(\" \"), (_vm.showRating) ? _c('span', {\n\t    class: ['rating-text', _vm.textClass]\n\t  }, [_vm._v(\" \" + _vm._s(_vm.currentRating))]) : _vm._e()], 2)])\n\t},staticRenderFns: []}\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// dist/static/js/app.a42f258c72deca195027.js","// Import Vue\nimport Vue from 'vue'\n\n// Import F7\nimport Framework7 from 'framework7'\n\n// Import F7 Vue Plugin\nimport Framework7Vue from 'framework7-vue'\n\n// Import F7 iOS Theme Styles\nimport Framework7Theme from 'framework7/dist/css/framework7.ios.min.css'\nimport Framework7ThemeColors from 'framework7/dist/css/framework7.ios.colors.min.css'\n\n// Import App Custom Styles\nimport AppStyles from './styles/app.css'\n\n// Import Routes\nimport Routes from './routes.js'\n\n// Import App Component\nimport App from './app'\n\n// Init F7 Vue Plugin\nVue.use(Framework7Vue)\n\n// Init App\nnew Vue({\n  el: '#app',\n  template: '<app/>',\n  // Init Framework7 by passing parameters here\n  framework7: {\n    root: '#app',\n    /* Uncomment to enable Material theme: */\n    // material: true,\n    routes: Routes,\n  },\n  // Register App Component\n  components: {\n    app: App\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/main.js","export default {\n    materials: [{\n        id: 5399,\n        name: '猪'\n    }, {\n        id: 104,\n        name: '鸡'\n    }, {\n        id: 5443,\n        name: '牛'\n    }, {\n        id: 5418,\n        name: '羊'\n    }, {\n        id: 275,\n        name: '鸭'\n    }, {\n        id: 605,\n        name: '牛蛙'\n    }, {\n        id: 719,\n        name: '兔肉'\n    }, {\n        id: 20132,\n        name: '饭'\n    }, {\n        id: 20133,\n        name: '面'\n    }, {\n        id: 20148,\n        name: '饺子'\n    }, {\n        id: 20150,\n        name: '混沌'\n    }, {\n        id: 957,\n        name: '鱼'\n    }, {\n        id: 4553,\n        name: '贝'\n    }, {\n        id: 469,\n        name: '虾'\n    }, {\n        id: 1183,\n        name: '螃蟹'\n    }],\n\n    taste: [{\n        id: 51359,\n        name: '辣'\n    }, {\n        id: 51922,\n        name: '咖喱'\n    }, {\n        id: 40066,\n        name: '糖醋'\n    }, {\n        id: 52413,\n        name: '蒜香'\n    }, {\n        id: 51449,\n        name: '酸甜'\n    }, {\n        id: 52407,\n        name: '奶香'\n    }, {\n        id: 52401,\n        name: '孜然'\n    }, {\n        id: 51875,\n        name: '鱼香'\n    }, {\n        id: 52399,\n        name: '五香'\n    }, {\n        id: 51460,\n        name: '清淡'\n    }]\n}\n\n\n// WEBPACK FOOTER //\n// ./client/core/constants.js","import Mind from 'node-mind';\nimport constants from './constants'\nimport _ from 'lodash'\n\n\nconst mind = Mind({learningRate: 0.3,activator:'sigmoid'});\n\nconst trainingData = [];\nlet catsArray = window.localStorage.getItem('wtet_categories');\nif (catsArray !== null) {\n    catsArray = JSON.parse(catsArray)\n}\n\nfunction learn() {\n    mind.learn(trainingData);\n}\n\nfunction predict(recipe) {\n\n    let input = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    recipe.categories.forEach(function (cat) {\n        let target = {};\n        catsArray.forEach(function (obj) {\n            let index = _.findIndex(obj.family, cat);\n            if (index > -1) {\n                target = obj.parent;\n            }\n        })\n        let index = _.findIndex(constants.materials, target);\n        if (index > -1) input[index] = 1;\n    })\n\n    let prediction = mind.predict(input) * 5;\n    prediction = Math.round(prediction);\n    return prediction;\n}\n\nfunction rate(recipe, rating) {\n\n    let input = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    recipe.categories.forEach(function (cat) {\n        let target = {};\n        catsArray.forEach(function (obj) {\n            let index = _.findIndex(obj.family, cat);\n            if (index > -1) {\n                target = obj.parent;\n            }\n        })\n        let index = _.findIndex(constants.materials, target);\n        if (index > -1) input[index] = 1;\n    })\n    let data = { input: input, output: [ rating / 5 ] };\n    console.log(data)\n    trainingData.push(data);\n}\n\nconst brain = {\n    learn, predict, rate\n}\n\nexport default brain;\n\n\n// WEBPACK FOOTER //\n// ./client/core/brain.js","/**\n * Axios Request Wrapper\n * ---------------------\n *\n */\n\nimport axios     from 'axios'\n\n/**\n * Create an Axios Client with defaults\n */\nconst client = axios.create({\n    baseURL: ''\n});\n\n\n/**\n * Request Wrapper with default success/error actions\n */\nconst request = function (options) {\n    const onSuccess = function (response) {\n        //console.debug('Request Successful!', response);\n        return response.data;\n    }\n\n    const onError = function (error) {\n        console.error('Request Failed:', error.config);\n\n        if (error.response) {\n            // Request was made but server responded with something\n            // other than 2xx\n            console.error('Status:', error.response.status);\n            console.error('Data:', error.response.data);\n            console.error('Headers:', error.response.headers);\n\n        } else {\n            // Something else happened while setting up the request\n            // triggered the error\n            console.error('Error Message:', error.message);\n        }\n\n        return Promise.reject(error.response || error.message);\n    }\n\n    return client(options)\n        .then(onSuccess)\n        .catch(onError);\n}\n\nexport default request;\n\n\n// WEBPACK FOOTER //\n// ./client/core/request.js","import constants from './constants'\nimport request from './request'\n\n/**\n * 遍历预设的二级分类集合,依次检出其对应的所有三级分类\n * 并添加到其对应父级分类的后面,用来扩充食谱的选择范围\n */\nfunction getAllCategories() {\n\n    let catsArray = window.localStorage.getItem('wtet_categories');\n    if (catsArray === null || catsArray.length === 0) {\n        catsArray = [];\n        let pCats = constants.materials;\n        for (let i = 0; i < pCats.length; i++) {\n            let pid = pCats[i].id;\n            let values = [pCats[i]];\n            request({\n                url: `/api/fetchAllByPid/${pid}`,\n                method: 'GET'\n            }).then((resp) => {\n                if (resp && resp.length > 0) {\n                    for (let j = 0; j < resp.length; j++) {\n                        values.push({\n                            id: resp[j].id,\n                            name: resp[j].name\n                        })\n                    }\n                }\n                catsArray.push({\n                    parent: pCats[i],\n                    family: values\n                });\n            })\n        }\n\n        setTimeout(function () {\n            if (catsArray.length === constants.materials.length) {\n                window.localStorage.setItem('wtet_categories', JSON.stringify(catsArray));\n            }\n        }, 4000)\n    }\n\n}\n\n/**\n * 随机产生一个二级或三级分类,并随机请求其下面的任意一个食谱\n */\nfunction generateARecipe() {\n\n    let catsArray = window.localStorage.getItem('wtet_categories');\n    if (catsArray !== null) {\n        catsArray = JSON.parse(catsArray)\n    }\n    let rindex1 = random(catsArray.length);\n    let rindex2 = random(catsArray[rindex1].family.length);\n    let targetCat = catsArray[rindex1].family[rindex2];\n    let cid = targetCat.id;\n    let cname = targetCat.name;\n\n    return request({\n        url: `/api/fetchRandomRecipe/${cid}/${cname}`,\n        method: 'GET'\n    })\n}\n\n\nfunction random(length) {\n    return Math.floor(Math.random() * length);\n}\n\n/*function get(id) {\n return request({\n url:    `/message/${id}`,\n method: 'GET'\n });\n }*/\n\n/*function create({subject, content}) {\n return request({\n url:    '/message/create',\n method: 'POST',\n data:   {\n subject,\n content\n }\n });\n }*/\n\n/*const RecipeService = {\n get, create //, update, delete, etc. ...\n }*/\n\nconst Service = {\n    getAllCategories, generateARecipe\n}\n\ngetAllCategories();\n\nexport default Service;\n\n\n// WEBPACK FOOTER //\n// ./client/core/service.js","<template>\n    <!-- App -->\n    <div id=\"app\">\n\n        <!-- Main Views -->\n        <f7-views>\n            <f7-view id=\"main-view\" main>\n                <!-- Pages -->\n                <f7-pages>\n                    <f7-page>\n                        <!-- Page Content -->\n                        <f7-card :title=\"recipe.name\" :content=\"description\">\n                            <div class=\"recipe-block\">\n                                <img :src=\"recipe.lImage\"/>\n                            </div>\n                        </f7-card>\n                        <f7-block>\n                            <f7-grid>\n                                <f7-col width=\"30\">\n                                    <a href=\"#\" @click=\"skip\" class=\"button color-yellow button-fill button-big\">跳过</a>\n                                </f7-col>\n                                <f7-col width=\"70\">\n                                    <star-rating inactive-color=\"#000\"\n                                                 active-color=\"#f00\"\n                                                 v-bind:star-size=\"40\"\n                                                 v-bind:show-rating=false\n                                                 :rating=\"resetableRating\"\n                                                 @rating-selected=\"setRating\"/>\n                                </f7-col>\n                            </f7-grid>\n                        </f7-block>\n\n                        <f7-block class=\"prediction\" v-if=\"numRated > 10\">\n                            <f7-grid>\n                                <f7-col class=\"prediction-note\" width=\"30\">\n                                    猜你多喜欢:\n                                </f7-col>\n                                <f7-col width=\"70\">\n                                    <star-rating inactive-color=\"#000\"\n                                                 active-color=\"#f00\"\n                                                 v-bind:star-size=\"40\"\n                                                 v-bind:show-rating=false\n                                                 v-bind:read-only=true\n                                                 :rating=\"predictRating\"/>\n                                </f7-col>\n                            </f7-grid>\n                        </f7-block>\n                    </f7-page>\n                </f7-pages>\n            </f7-view>\n        </f7-views>\n\n\n    </div>\n</template>\n<style>\n    .recipe-block {\n        display: flex;\n        justify-content: center;\n        height: 300px;\n        padding: 10px;\n        padding-top: 0;\n    }\n\n    .recipe-block img {\n        width: 100%;\n    }\n\n    .prediction {\n        margin: 0 0 35px 0;\n    }\n\n    .content-block{\n        margin: 15px 0;\n    }\n\n    .prediction-note {\n        text-align: center;\n        display: inline-block;\n        height: 45px;\n        padding: 10px 0;\n        font-size: 16px;\n    }\n</style>\n<script>\n    import StarRating from 'vue-star-rating'\n    import Service from './core/service'\n    import brain from './core/brain'\n\n\n    export default{\n        data() {\n            return {\n                recipe: {},\n                description: '',\n                numRated: 0,\n                resetableRating: 0,\n                predictRating: 0\n            }\n        },\n        created: function () {\n            this.description = '先看看你的口味,10次之后,我会作出预测';\n            this.fetchRandomRecipe()\n        },\n        methods: {\n            fetchRandomRecipe: function () {\n                let self = this;\n                Service.generateARecipe()\n                        .then(function (res) {\n                            self.recipe = res;\n                            self.resetRating();\n\n                            if (self.numRated > 10) {\n                                brain.learn();\n                                self.description = '如果我说错了,请告诉我,我会越来越懂你';\n                                self.predictRating = brain.predict(res);\n                            }\n\n                        });\n            },\n            skip: function () {\n                this.fetchRandomRecipe();\n            },\n            setRating: function (rating) {\n                let self = this;\n                self.resetableRating = rating;\n                self.numRated++;\n                brain.rate(self.recipe, rating);\n\n\n                setTimeout(function () {\n                    self.fetchRandomRecipe()\n                }, 0)\n            },\n            resetRating() {\n                this.resetableRating = 0;\n            }\n        },\n        components: {\n            StarRating\n        }\n    }\n</script>\n\n\n// WEBPACK FOOTER //\n// app.vue?4cdab0ec","<template>\r\n    <div :class=\"['star-rating', {inline: inline}]\">\r\n        <div @mouseleave=\"resetRating\" class=\"star-rating\">\r\n            <span v-for=\"n in maxRating\" :class=\"[{pointer: !readOnly }, 'star']\">\r\n              <star :fill=\"fillLevel[n-1]\" :size=\"starSize\" :star-id=\"n\" :step=\"step\" :active-color=\"activeColor\" :inactive-color=\"inactiveColor\" :border-color=\"borderColor\" :border-width=\"borderWidth\" :padding=\"padding\" @star-selected=\"setRating($event, true)\" @star-mouse-move=\"setRating\"></star>\r\n            </span>\r\n            <span v-if=\"showRating\" :class=\"['rating-text', textClass]\"> {{currentRating}}</span>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\nimport star from './star.vue';\r\nexport default {\r\n    components: {\r\n        star\r\n    },\r\n    props: {\r\n        increment: {\r\n            type: Number,\r\n            default: 1\r\n        },\r\n        rating: {\r\n            type: Number,\r\n            default: 0\r\n        },\r\n        activeColor: {\r\n            type: String,\r\n            default: \"#ffd055\"\r\n        },\r\n        inactiveColor: {\r\n            type: String,\r\n            default: \"#d8d8d8\"\r\n        },\r\n        maxRating: {\r\n            type: Number,\r\n            default: 5\r\n        },\r\n        starSize: {\r\n            type: Number,\r\n            default: 50\r\n        },\r\n        showRating: {\r\n            type: Boolean,\r\n            default: true\r\n        },\r\n        readOnly: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        textClass: {\r\n            type: String,\r\n            default: \"\"\r\n        },\r\n        inline: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        borderColor: {\r\n            type: String,\r\n            default: \"#999\"\r\n        },\r\n        borderWidth: {\r\n            type: Number,\r\n            default: 0\r\n        },\r\n        padding: {\r\n            type: Number,\r\n            default: 0\r\n        }\r\n    },\r\n    created() {\r\n        this.step = this.increment * 100;\r\n        this.currentRating = this.rating;\r\n        this.selectedRating = this.rating;\r\n        this.createStars();\r\n    },\r\n    methods: {\r\n        setRating($event, persist) {\r\n            if (!this.readOnly) {\r\n                let position = $event.position / 100;\r\n                this.currentRating = (($event.id + position) - 1).toFixed(2);\r\n                this.currentRating = (this.currentRating > this.maxRating) ? this.maxRating : this.currentRating;\r\n                this.createStars();\r\n                if (persist) {\r\n                    this.selectedRating = this.currentRating;\r\n                    this.$emit('rating-selected', this.selectedRating);\r\n                } else {\r\n                    this.$emit('current-rating', this.currentRating);\r\n                }\r\n            }\r\n        },\r\n        resetRating() {\r\n            if (!this.readOnly) {\r\n                this.currentRating = this.selectedRating;\r\n                this.createStars();\r\n            }\r\n        },\r\n        createStars() {\r\n            this.round();\r\n            for (var i = 0; i < this.maxRating; i++) {\r\n                let level = 0;\r\n                if (i < this.currentRating) {\r\n                    level = (this.currentRating - i > 1) ? 100 : (this.currentRating - i) * 100;\r\n                }\r\n                this.$set(this.fillLevel, i, Math.round(level));\r\n            }\r\n        },\r\n        round() {\r\n            var inv = 1.0 / this.increment;\r\n            this.currentRating = Math.ceil(this.currentRating * inv) / inv;\r\n        }\r\n    },\r\n    watch: {\r\n        rating(val) {\r\n            this.currentRating = val;\r\n            this.selectedRating = val;\r\n            this.createStars();\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            step: 0,\r\n            fillLevel: [],\r\n            currentRating: 0,\r\n            selectedRating: 0\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.star {\r\n    display: inline-block;\r\n}\r\n.pointer {\r\n    cursor: pointer;\r\n}\r\n.star-rating {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n.inline {\r\n    display: inline-flex;\r\n}\r\n.rating-text {\r\n    margin-top: 7px;\r\n    margin-left: 7px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// star-rating.vue?af3e457e","<template>\r\n    <svg :height=\"getSize\" :width=\"getSize\" @mousemove=\"mouseMoving\" @click=\"selected\">\r\n        <linearGradient :id=\"grad\" x1=\"0\" x2=\"100%\" y1=\"0\" y2=\"0\">\r\n            <stop :offset=\"getFill\" :stop-color=\"activeColor\" />\r\n            <stop :offset=\"getFill\" :stop-color=\"inactiveColor\" />\r\n        </linearGradient>\r\n        <polygon :points=\"starPointsToString\" :fill=\"getGradId\" :stroke=\"borderColor\" :stroke-width=\"borderWidth\" />\r\n        <polygon :points=\"starPointsToString\" :fill=\"getGradId\" />\r\n    </svg>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\nexport default {\r\n    props: {\r\n        fill: {\r\n            type: Number,\r\n            default: 0\r\n        },\r\n        size: {\r\n            type: Number,\r\n            default: 50\r\n        },\r\n        starId: {\r\n            type: Number,\r\n            required: true\r\n        },\r\n        activeColor: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        inactiveColor: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        borderColor: {\r\n            type: String,\r\n            default: \"#000\"\r\n        },\r\n        borderWidth: {\r\n            type: Number,\r\n            default: 0\r\n        },\r\n        padding: {\r\n            type: Number,\r\n            default: 0\r\n        }\r\n    },\r\n    created() {\r\n        this.calculatePoints;\r\n        this.grad = Math.random().toString(36).substring(7);\r\n    },\r\n    computed: {\r\n        calculatePoints() {\r\n            this.starPoints = this.starPoints.map((point) => {\r\n                return ((this.size / 43) * point) + (this.borderWidth * 1.5);\r\n            });\r\n        },\r\n        starPointsToString() {\r\n            return this.starPoints.join(',');\r\n        },\r\n        getGradId() {\r\n            return 'url(#' + this.grad + ')';\r\n        },\r\n        getSize() {\r\n            return parseInt(this.size) + parseInt(this.borderWidth * 3) + this.padding;\r\n        },\r\n        getFill() {\r\n            return this.fill + \"%\";\r\n        }\r\n    },\r\n    methods: {\r\n        mouseMoving($event) {\r\n            this.$emit('star-mouse-move', {\r\n                event: $event,\r\n                position: this.getPosition($event),\r\n                id: this.starId\r\n            })\r\n        },\r\n        getPosition($event) {\r\n            // calculate position in percentage.\r\n            var starWidth = (92 / 100) * this.size;\r\n            var position = Math.round((100 / starWidth) * $event.offsetX);\r\n            return (position > 100) ? 100 : position;\r\n        },\r\n        selected($event) {\r\n            this.$emit('star-selected', {\r\n                id: this.starId,\r\n                position: this.getPosition($event)\r\n            })\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            starPoints: [19.8, 2.2, 6.6, 43.56, 39.6, 17.16, 0, 17.16, 33, 43.56],\r\n            grad: ''\r\n        }\r\n    }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// star.vue?4eebfd12","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../node_modules/vue-loader/lib/style-rewriter?id=data-v-07303157!../node_modules/vue-loader/lib/selector?type=styles&index=0!./app.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./app.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler?id=data-v-07303157!../node_modules/vue-loader/lib/selector?type=template&index=0!./app.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/app.vue\n// module id = 119\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../vue-loader/lib/style-rewriter?id=data-v-5d7117b8&scoped=true!../../vue-loader/lib/selector?type=styles&index=0!./star-rating.vue\")\n\nvar Component = require(\"!../../vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../vue-loader/lib/selector?type=script&index=0!./star-rating.vue\"),\n  /* template */\n  require(\"!!../../vue-loader/lib/template-compiler?id=data-v-5d7117b8!../../vue-loader/lib/selector?type=template&index=0!./star-rating.vue\"),\n  /* scopeId */\n  \"data-v-5d7117b8\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-star-rating/src/star-rating.vue\n// module id = 120\n// module chunks = 2","var Component = require(\"!../../vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../vue-loader/lib/selector?type=script&index=0!./star.vue\"),\n  /* template */\n  require(\"!!../../vue-loader/lib/template-compiler?id=data-v-0722e656!../../vue-loader/lib/selector?type=template&index=0!./star.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-star-rating/src/star.vue\n// module id = 121\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('svg', {\n    attrs: {\n      \"height\": _vm.getSize,\n      \"width\": _vm.getSize\n    },\n    on: {\n      \"mousemove\": _vm.mouseMoving,\n      \"click\": _vm.selected\n    }\n  }, [_c('linearGradient', {\n    attrs: {\n      \"id\": _vm.grad,\n      \"x1\": \"0\",\n      \"x2\": \"100%\",\n      \"y1\": \"0\",\n      \"y2\": \"0\"\n    }\n  }, [_c('stop', {\n    attrs: {\n      \"offset\": _vm.getFill,\n      \"stop-color\": _vm.activeColor\n    }\n  }), _vm._v(\" \"), _c('stop', {\n    attrs: {\n      \"offset\": _vm.getFill,\n      \"stop-color\": _vm.inactiveColor\n    }\n  })], 1), _vm._v(\" \"), _c('polygon', {\n    attrs: {\n      \"points\": _vm.starPointsToString,\n      \"fill\": _vm.getGradId,\n      \"stroke\": _vm.borderColor,\n      \"stroke-width\": _vm.borderWidth\n    }\n  }), _vm._v(\" \"), _c('polygon', {\n    attrs: {\n      \"points\": _vm.starPointsToString,\n      \"fill\": _vm.getGradId\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-0722e656!./~/vue-loader/lib/selector.js?type=template&index=0!./~/vue-star-rating/src/star.vue\n// module id = 122\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('f7-views', [_c('f7-view', {\n    attrs: {\n      \"id\": \"main-view\",\n      \"main\": \"\"\n    }\n  }, [_c('f7-pages', [_c('f7-page', [_c('f7-card', {\n    attrs: {\n      \"title\": _vm.recipe.name,\n      \"content\": _vm.description\n    }\n  }, [_c('div', {\n    staticClass: \"recipe-block\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.recipe.lImage\n    }\n  })])]), _vm._v(\" \"), _c('f7-block', [_c('f7-grid', [_c('f7-col', {\n    attrs: {\n      \"width\": \"30\"\n    }\n  }, [_c('a', {\n    staticClass: \"button color-yellow button-fill button-big\",\n    attrs: {\n      \"href\": \"#\"\n    },\n    on: {\n      \"click\": _vm.skip\n    }\n  }, [_vm._v(\"跳过\")])]), _vm._v(\" \"), _c('f7-col', {\n    attrs: {\n      \"width\": \"70\"\n    }\n  }, [_c('star-rating', {\n    attrs: {\n      \"inactive-color\": \"#000\",\n      \"active-color\": \"#f00\",\n      \"star-size\": 40,\n      \"show-rating\": false,\n      \"rating\": _vm.resetableRating\n    },\n    on: {\n      \"rating-selected\": _vm.setRating\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), (_vm.numRated > 10) ? _c('f7-block', {\n    staticClass: \"prediction\"\n  }, [_c('f7-grid', [_c('f7-col', {\n    staticClass: \"prediction-note\",\n    attrs: {\n      \"width\": \"30\"\n    }\n  }, [_vm._v(\"\\n                                猜你多喜欢:\\n                            \")]), _vm._v(\" \"), _c('f7-col', {\n    attrs: {\n      \"width\": \"70\"\n    }\n  }, [_c('star-rating', {\n    attrs: {\n      \"inactive-color\": \"#000\",\n      \"active-color\": \"#f00\",\n      \"star-size\": 40,\n      \"show-rating\": false,\n      \"read-only\": true,\n      \"rating\": _vm.predictRating\n    }\n  })], 1)], 1)], 1) : _vm._e()], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-07303157!./~/vue-loader/lib/selector.js?type=template&index=0!./client/app.vue\n// module id = 123\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: ['star-rating', {\n      inline: _vm.inline\n    }]\n  }, [_c('div', {\n    staticClass: \"star-rating\",\n    on: {\n      \"mouseleave\": _vm.resetRating\n    }\n  }, [_vm._l((_vm.maxRating), function(n) {\n    return _c('span', {\n      class: [{\n        pointer: !_vm.readOnly\n      }, 'star']\n    }, [_c('star', {\n      attrs: {\n        \"fill\": _vm.fillLevel[n - 1],\n        \"size\": _vm.starSize,\n        \"star-id\": n,\n        \"step\": _vm.step,\n        \"active-color\": _vm.activeColor,\n        \"inactive-color\": _vm.inactiveColor,\n        \"border-color\": _vm.borderColor,\n        \"border-width\": _vm.borderWidth,\n        \"padding\": _vm.padding\n      },\n      on: {\n        \"star-selected\": function($event) {\n          _vm.setRating($event, true)\n        },\n        \"star-mouse-move\": _vm.setRating\n      }\n    })], 1)\n  }), _vm._v(\" \"), (_vm.showRating) ? _c('span', {\n    class: ['rating-text', _vm.textClass]\n  }, [_vm._v(\" \" + _vm._s(_vm.currentRating))]) : _vm._e()], 2)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-5d7117b8!./~/vue-loader/lib/selector.js?type=template&index=0!./~/vue-star-rating/src/star-rating.vue\n// module id = 124\n// module chunks = 2"],"sourceRoot":""}